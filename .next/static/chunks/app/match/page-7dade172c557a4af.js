(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[108],{5241:function(e,t,s){Promise.resolve().then(s.bind(s,7102))},7102:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var a,r=s(7437),n=s(2265),l=s(9596),i=s(7586),o=s(9376),d=s(2521);let c=(0,s(6471).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var u=s(4986),x=s(6410),p=s(7678),m=s(1930);let h=null!==(a=s(257).env.NEXT_PUBLIC_BACKEND_URL)&&void 0!==a?a:"http://localhost:8000";function b(e){let{user:t,selected:s,onClick:a}=e;return(0,r.jsxs)(l.E.button,{onClick:a,className:"w-full flex items-center justify-between px-5 py-4 rounded-2xl transition-all text-left",style:{backgroundColor:s?"#B8F0F0":"#F6FAFA",border:"2px solid",borderColor:s?"#86E3E3":"transparent"},whileTap:{scale:.98},children:[(0,r.jsx)("span",{className:"font-black text-base text-[#1A1A1A] dark:text-[#F0F0F0]",children:t.userId}),s&&(0,r.jsx)("div",{className:"w-5 h-5 rounded-full flex items-center justify-center shrink-0",style:{backgroundColor:"#86E3E3"},children:(0,r.jsx)("span",{className:"text-xs text-white font-black",children:"✓"})})]})}function f(e){let{user:t}=e;return(0,r.jsx)(l.E.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"w-full flex items-center px-5 py-5 rounded-3xl",style:{backgroundColor:"#B8F0F0",border:"2px solid #86E3E3"},children:(0,r.jsx)("span",{className:"font-black text-xl text-[#0A4040]",children:t.userId})})}function g(){let e=(0,o.useRouter)(),{state:t,dispatch:s}=(0,x.b)(),[a,g]=(0,n.useState)(""),[E,y]=(0,n.useState)(null),[A,j]=(0,n.useState)(!1),[k,N]=(0,n.useState)(!1),S=(0,n.useMemo)(()=>{if(!a.trim())return m.YG;let e=a.toLowerCase();return m.YG.filter(t=>t.userId.toLowerCase().includes(e))},[a]),v=e=>{(null==E?void 0:E.userId)===e.userId?(y(null),j(!1)):(y(e),j(!0))},F=async()=>{if(E){s({type:"SET_MATCHED_USER",payload:E});try{await fetch("".concat(h,"/session/partner"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partner_user_id:E.userId})})}catch(e){console.warn("[MatchScreen] 파트너 정보 전달 실패",e)}e.push("/")}};return(0,r.jsxs)("div",{className:"relative flex flex-col bg-white dark:bg-dark-bg overflow-hidden mx-auto w-full",style:{height:"100dvh",maxWidth:430},children:[(0,r.jsxs)("div",{className:"shrink-0 flex items-center justify-between px-5",style:{paddingTop:"max(2.5rem, env(safe-area-inset-top, 2.5rem))",paddingBottom:"1rem"},children:[(0,r.jsxs)(l.E.button,{onClick:()=>e.push("/login"),className:"flex items-center gap-1 text-sm font-semibold text-primary",whileTap:{scale:.92},children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),"뒤로"]}),(0,r.jsx)("span",{className:"font-black text-base text-[#1A1A1A] dark:text-[#F0F0F0] tracking-tight",children:"AI CUPID"}),(0,r.jsx)("div",{className:"w-14"})]}),(0,r.jsx)("div",{className:"shrink-0 px-5 pb-4",children:(0,r.jsxs)("h1",{className:"font-black text-2xl text-[#1A1A1A] dark:text-[#F0F0F0] leading-tight",children:["미팅하는 사람을",(0,r.jsx)("br",{}),"선택하세요."]})}),(0,r.jsx)(i.M,{children:A&&E&&(0,r.jsx)("div",{className:"shrink-0 px-5 pb-4",children:(0,r.jsx)(f,{user:E})})}),!A&&(0,r.jsxs)("div",{className:"shrink-0 px-5 pb-4",children:[(0,r.jsx)("p",{className:"text-sm font-bold text-[#1A1A1A] dark:text-[#F0F0F0] mb-2",children:"아이디 검색"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:"#86E3E3"}}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>g(e.target.value),placeholder:"아이디로 검색",className:"w-full pl-10 pr-10 py-4 rounded-2xl text-base font-semibold outline-none bg-[#F6FAFA] dark:bg-[#2C2C2E] text-[#1A1A1A] dark:text-[#F0F0F0] placeholder:text-[#1A1A1A]/30 dark:placeholder:text-white/25",style:{border:"2px solid",borderColor:a?"#86E3E3":"transparent"}}),a&&(0,r.jsx)("button",{onClick:()=>g(""),className:"absolute right-4 top-1/2 -translate-y-1/2",children:(0,r.jsx)(u.Z,{className:"w-4 h-4 text-[#1A1A1A]/40 dark:text-white/30"})})]})]}),!A&&(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-5 flex flex-col gap-2 pb-4",children:0===S.length?(0,r.jsx)("p",{className:"text-center text-sm text-[#1A1A1A]/40 dark:text-white/30 py-10",children:"검색 결과가 없습니다"}):S.map(e=>(0,r.jsx)(b,{user:e,selected:(null==E?void 0:E.userId)===e.userId,onClick:()=>v(e)},e.userId))}),A&&(0,r.jsx)("div",{className:"flex-1"}),(0,r.jsx)("div",{className:"shrink-0 px-5 pt-3",style:{paddingBottom:"max(2rem, env(safe-area-inset-bottom, 2rem))"},children:A?(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)(l.E.button,{onClick:()=>{y(null),j(!1)},className:"py-4 rounded-2xl font-black text-base",style:{backgroundColor:"transparent",color:"#86E3E3",border:"2.5px solid #86E3E3"},whileTap:{scale:.97},children:"취소"}),(0,r.jsx)(l.E.button,{onClick:F,className:"py-4 rounded-2xl font-black text-base",style:{backgroundColor:"#86E3E3",color:"#0A4040"},whileTap:{scale:.97},children:"완료"})]}):(0,r.jsx)(l.E.button,{onClick:()=>E&&j(!0),disabled:!E,className:"w-full py-4 rounded-2xl font-black text-base disabled:opacity-40 disabled:cursor-not-allowed",style:{backgroundColor:"#86E3E3",color:"#0A4040"},whileTap:{scale:.97},children:"선택 완료 →"})}),(0,r.jsx)(i.M,{children:k&&t.userProfile&&(0,r.jsx)(p.P,{initialProfile:t.userProfile,onSave:e=>{s({type:"SET_USER_PROFILE",payload:e}),N(!1)},onClose:()=>N(!1)})})]})}function E(){return(0,r.jsx)(g,{})}},6410:function(e,t,s){"use strict";s.d(t,{AppProvider:function(){return o},b:function(){return d}});var a=s(7437),r=s(2265);let n={phase:"landing",sessionSettings:{selectedPersonaId:s(1930).IJ[0].id,avatarState:"idle"},userProfile:null,matchedUser:null,sessionSummary:""};function l(e,t){switch(t.type){case"START_TRANSITION":return{...e,phase:"transitioning"};case"SESSION_READY":return{...e,phase:"session"};case"GO_LANDING":return{...e,phase:"landing",sessionSettings:{...e.sessionSettings,avatarState:"idle"}};case"SET_PERSONA":return{...e,sessionSettings:{...e.sessionSettings,selectedPersonaId:t.payload}};case"SET_AVATAR_STATE":return{...e,sessionSettings:{...e.sessionSettings,avatarState:t.payload}};case"SET_USER_PROFILE":return{...e,userProfile:t.payload};case"SET_MATCHED_USER":return{...e,matchedUser:t.payload};case"SET_SESSION_SUMMARY":return{...e,sessionSummary:t.payload};case"LOGOUT":return{...n};default:return e}}let i=(0,r.createContext)(null);function o(e){let{children:t}=e,[s,o]=(0,r.useReducer)(l,n);return(0,a.jsx)(i.Provider,{value:{state:s,dispatch:o},children:t})}function d(){let e=(0,r.useContext)(i);if(!e)throw Error("useAppContext must be used within AppProvider");return e}},1930:function(e,t,s){"use strict";s.d(t,{IJ:function(){return r},YG:function(){return a}});let a=[{userId:"jisoo123",name:"이지수",age:24,gender:"female",mbti:"ENFP",interests:["영화","음악","여행"],bio:"안녕하세요! 영화 좋아하는 이지수입니다 :)"},{userId:"minho456",name:"박민호",age:27,gender:"male",mbti:"INTJ",interests:["독서","게임","아웃도어"],bio:"독서와 게임을 즐기는 박민호입니다."},{userId:"yuna789",name:"김유나",age:25,gender:"female",mbti:"ISFJ",interests:["요리","영화","패션"],bio:"요리하는 걸 좋아해요!"},{userId:"junho001",name:"최준호",age:26,gender:"male",mbti:"ESTP",interests:["스포츠","여행","음악"],bio:"스포츠와 여행을 즐기는 최준호입니다."},{userId:"somin002",name:"박소민",age:23,gender:"female",mbti:"INFP",interests:["독서","음악","영화"],bio:"감성적인 박소민입니다 ✨"},{userId:"taehyun003",name:"김태현",age:28,gender:"male",mbti:"ENTJ",interests:["스포츠","게임","요리"],bio:"열정적인 김태현입니다!"}],r=[{id:"daguri",name:"다구리",description:"귀여운 햄스터 외모 속에 숨겨진 뼈 때리는 팩트폭격기",accentColor:"rgba(255,160,122,0.70)",avatarGradient:"linear-gradient(135deg, #FFEFD5, #FFA07A)",emoji:"\uD83D\uDC39",image:"/assets/daguri.jpeg"},{id:"rudumi",name:"루두미",description:"차분하고 지적인 분위기를 풍기는 다정한 여우 마스터",accentColor:"rgba(135,206,250,0.65)",avatarGradient:"linear-gradient(135deg, #F0F8FF, #87CEFA)",emoji:"\uD83E\uDD8A",image:"/assets/rudumi.png"}]},4986:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6471).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[429,747,678,971,117,744],function(){return e(e.s=5241)}),_N_E=e.O()}]);