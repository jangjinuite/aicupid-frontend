"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ricky0123";
exports.ids = ["vendor-chunks/@ricky0123"];
exports.modules = {

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/asset-path.js":
/*!************************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/asset-path.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.baseAssetPath = void 0;\n// nextjs@14 bundler may attempt to execute this during SSR and crash\nconst isWeb = typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\nconst currentScript = isWeb\n    ? window.document.currentScript\n    : null;\nlet basePath = \"/\";\nif (currentScript) {\n    basePath = currentScript.src\n        .replace(/#.*$/, \"\")\n        .replace(/\\?.*$/, \"\")\n        .replace(/\\/[^/]+$/, \"/\");\n}\nexports.baseAssetPath = basePath;\n//# sourceMappingURL=asset-path.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvYXNzZXQtcGF0aC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2VydGhvbi1mcm9udC8uL25vZGVfbW9kdWxlcy9Acmlja3kwMTIzL3ZhZC13ZWIvZGlzdC9hc3NldC1wYXRoLmpzPzZlNWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJhc2VBc3NldFBhdGggPSB2b2lkIDA7XG4vLyBuZXh0anNAMTQgYnVuZGxlciBtYXkgYXR0ZW1wdCB0byBleGVjdXRlIHRoaXMgZHVyaW5nIFNTUiBhbmQgY3Jhc2hcbmNvbnN0IGlzV2ViID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuY29uc3QgY3VycmVudFNjcmlwdCA9IGlzV2ViXG4gICAgPyB3aW5kb3cuZG9jdW1lbnQuY3VycmVudFNjcmlwdFxuICAgIDogbnVsbDtcbmxldCBiYXNlUGF0aCA9IFwiL1wiO1xuaWYgKGN1cnJlbnRTY3JpcHQpIHtcbiAgICBiYXNlUGF0aCA9IGN1cnJlbnRTY3JpcHQuc3JjXG4gICAgICAgIC5yZXBsYWNlKC8jLiokLywgXCJcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXC9bXi9dKyQvLCBcIi9cIik7XG59XG5leHBvcnRzLmJhc2VBc3NldFBhdGggPSBiYXNlUGF0aDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2V0LXBhdGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/asset-path.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/default-model-fetcher.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/default-model-fetcher.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.defaultModelFetcher = void 0;\nconst defaultModelFetcher = (path) => {\n    return fetch(path).then((model) => model.arrayBuffer());\n};\nexports.defaultModelFetcher = defaultModelFetcher;\n//# sourceMappingURL=default-model-fetcher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvZGVmYXVsdC1tb2RlbC1mZXRjaGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZXJ0aG9uLWZyb250Ly4vbm9kZV9tb2R1bGVzL0ByaWNreTAxMjMvdmFkLXdlYi9kaXN0L2RlZmF1bHQtbW9kZWwtZmV0Y2hlci5qcz8xMGUzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0TW9kZWxGZXRjaGVyID0gdm9pZCAwO1xuY29uc3QgZGVmYXVsdE1vZGVsRmV0Y2hlciA9IChwYXRoKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKHBhdGgpLnRoZW4oKG1vZGVsKSA9PiBtb2RlbC5hcnJheUJ1ZmZlcigpKTtcbn07XG5leHBvcnRzLmRlZmF1bHRNb2RlbEZldGNoZXIgPSBkZWZhdWx0TW9kZWxGZXRjaGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC1tb2RlbC1mZXRjaGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/default-model-fetcher.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/frame-processor.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/frame-processor.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/*\nSome of this code, together with the default options found in index.ts,\nwere taken (or took inspiration) from https://github.com/snakers4/silero-vad\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FrameProcessor = exports.validateOptions = exports.defaultFrameProcessorOptions = void 0;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/logging.js\");\nconst messages_1 = __webpack_require__(/*! ./messages */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/messages.js\");\nexports.defaultFrameProcessorOptions = {\n    positiveSpeechThreshold: 0.3,\n    negativeSpeechThreshold: 0.25,\n    preSpeechPadMs: 800,\n    redemptionMs: 1400,\n    minSpeechMs: 400,\n    submitUserSpeechOnPause: false,\n};\nfunction validateOptions(options) {\n    if (options.positiveSpeechThreshold < 0 ||\n        options.positiveSpeechThreshold > 1) {\n        logging_1.log.error(\"positiveSpeechThreshold should be a number between 0 and 1\");\n    }\n    if (options.negativeSpeechThreshold < 0 ||\n        options.negativeSpeechThreshold > options.positiveSpeechThreshold) {\n        logging_1.log.error(\"negativeSpeechThreshold should be between 0 and positiveSpeechThreshold\");\n    }\n    if (options.preSpeechPadMs < 0) {\n        logging_1.log.error(\"preSpeechPadMs should be positive\");\n    }\n    if (options.redemptionMs < 0) {\n        logging_1.log.error(\"redemptionMs should be positive\");\n    }\n    if (options.minSpeechMs < 0) {\n        logging_1.log.error(\"minSpeechMs should be positive\");\n    }\n}\nexports.validateOptions = validateOptions;\nconst concatArrays = (arrays) => {\n    const sizes = arrays.reduce((out, next) => {\n        out.push(out.at(-1) + next.length);\n        return out;\n    }, [0]);\n    const outArray = new Float32Array(sizes.at(-1));\n    arrays.forEach((arr, index) => {\n        const place = sizes[index];\n        outArray.set(arr, place);\n    });\n    return outArray;\n};\nfunction calculateFrameParams(options, msPerFrame) {\n    const redemptionFrames = Math.floor(options.redemptionMs / msPerFrame);\n    const preSpeechPadFrames = Math.floor(options.preSpeechPadMs / msPerFrame);\n    const minSpeechFrames = Math.floor(options.minSpeechMs / msPerFrame);\n    return { redemptionFrames, preSpeechPadFrames, minSpeechFrames };\n}\nclass FrameProcessor {\n    constructor(modelProcessFunc, modelResetFunc, options, msPerFrame) {\n        this.modelProcessFunc = modelProcessFunc;\n        this.modelResetFunc = modelResetFunc;\n        this.options = options;\n        this.msPerFrame = msPerFrame;\n        this.speaking = false;\n        this.redemptionCounter = 0;\n        this.speechFrameCount = 0;\n        this.active = false;\n        this.speechRealStartFired = false;\n        this.setOptions = (update) => {\n            this.options = { ...this.options, ...update };\n            const { redemptionFrames, preSpeechPadFrames, minSpeechFrames } = calculateFrameParams(this.options, this.msPerFrame);\n            this.redemptionFrames = redemptionFrames;\n            this.preSpeechPadFrames = preSpeechPadFrames;\n            this.minSpeechFrames = minSpeechFrames;\n        };\n        this.reset = () => {\n            this.speaking = false;\n            this.speechRealStartFired = false;\n            this.audioBuffer = [];\n            this.modelResetFunc();\n            this.redemptionCounter = 0;\n            this.speechFrameCount = 0;\n        };\n        this.pause = (handleEvent) => {\n            this.active = false;\n            if (this.options.submitUserSpeechOnPause) {\n                this.endSegment(handleEvent);\n            }\n            else {\n                this.reset();\n            }\n        };\n        this.resume = () => {\n            this.active = true;\n        };\n        this.endSegment = (handleEvent) => {\n            const audioBuffer = this.audioBuffer;\n            this.audioBuffer = [];\n            const speaking = this.speaking;\n            this.reset();\n            if (speaking) {\n                const speechFrameCount = audioBuffer.reduce((acc, item) => {\n                    return item.isSpeech ? acc + 1 : acc;\n                }, 0);\n                if (speechFrameCount >= this.minSpeechFrames) {\n                    const audio = concatArrays(audioBuffer.map((item) => item.frame));\n                    handleEvent({ msg: messages_1.Message.SpeechEnd, audio });\n                }\n                else {\n                    handleEvent({ msg: messages_1.Message.VADMisfire });\n                }\n            }\n            return {};\n        };\n        this.process = async (frame, handleEvent) => {\n            if (!this.active) {\n                return;\n            }\n            const probs = await this.modelProcessFunc(frame);\n            const isSpeech = probs.isSpeech >= this.options.positiveSpeechThreshold;\n            handleEvent({ probs, msg: messages_1.Message.FrameProcessed, frame });\n            this.audioBuffer.push({\n                frame,\n                isSpeech,\n            });\n            if (isSpeech) {\n                this.speechFrameCount++;\n                this.redemptionCounter = 0;\n            }\n            if (isSpeech && !this.speaking) {\n                this.speaking = true;\n                handleEvent({ msg: messages_1.Message.SpeechStart });\n            }\n            if (this.speaking &&\n                this.speechFrameCount === this.minSpeechFrames &&\n                !this.speechRealStartFired) {\n                this.speechRealStartFired = true;\n                handleEvent({ msg: messages_1.Message.SpeechRealStart });\n            }\n            if (probs.isSpeech < this.options.negativeSpeechThreshold &&\n                this.speaking &&\n                ++this.redemptionCounter >= this.redemptionFrames) {\n                this.redemptionCounter = 0;\n                this.speechFrameCount = 0;\n                this.speaking = false;\n                this.speechRealStartFired = false;\n                const audioBuffer = this.audioBuffer;\n                this.audioBuffer = [];\n                const speechFrameCount = audioBuffer.reduce((acc, item) => {\n                    return item.isSpeech ? acc + 1 : acc;\n                }, 0);\n                if (speechFrameCount >= this.minSpeechFrames) {\n                    const audio = concatArrays(audioBuffer.map((item) => item.frame));\n                    handleEvent({ msg: messages_1.Message.SpeechEnd, audio });\n                }\n                else {\n                    handleEvent({ msg: messages_1.Message.VADMisfire });\n                }\n            }\n            if (!this.speaking) {\n                while (this.audioBuffer.length > this.preSpeechPadFrames) {\n                    this.audioBuffer.shift();\n                }\n                this.speechFrameCount = 0;\n            }\n        };\n        this.audioBuffer = [];\n        const { redemptionFrames, preSpeechPadFrames, minSpeechFrames } = calculateFrameParams(this.options, this.msPerFrame);\n        this.redemptionFrames = redemptionFrames;\n        this.preSpeechPadFrames = preSpeechPadFrames;\n        this.minSpeechFrames = minSpeechFrames;\n        this.reset();\n    }\n}\nexports.FrameProcessor = FrameProcessor;\n//# sourceMappingURL=frame-processor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvZnJhbWUtcHJvY2Vzc29yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCLEdBQUcsdUJBQXVCLEdBQUcsb0NBQW9DO0FBQ3ZGLGtCQUFrQixtQkFBTyxDQUFDLDBFQUFXO0FBQ3JDLG1CQUFtQixtQkFBTyxDQUFDLDRFQUFZO0FBQ3ZDLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixvQkFBb0Isd0RBQXdEO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGtDQUFrQywwQ0FBMEM7QUFDNUU7QUFDQTtBQUNBLGtDQUFrQyxvQ0FBb0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0RBQXNEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscUNBQXFDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIseUNBQXlDO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esa0NBQWtDLDBDQUEwQztBQUM1RTtBQUNBO0FBQ0Esa0NBQWtDLG9DQUFvQztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3REFBd0Q7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2VydGhvbi1mcm9udC8uL25vZGVfbW9kdWxlcy9Acmlja3kwMTIzL3ZhZC13ZWIvZGlzdC9mcmFtZS1wcm9jZXNzb3IuanM/ZjhkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG5Tb21lIG9mIHRoaXMgY29kZSwgdG9nZXRoZXIgd2l0aCB0aGUgZGVmYXVsdCBvcHRpb25zIGZvdW5kIGluIGluZGV4LnRzLFxud2VyZSB0YWtlbiAob3IgdG9vayBpbnNwaXJhdGlvbikgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc25ha2VyczQvc2lsZXJvLXZhZFxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRnJhbWVQcm9jZXNzb3IgPSBleHBvcnRzLnZhbGlkYXRlT3B0aW9ucyA9IGV4cG9ydHMuZGVmYXVsdEZyYW1lUHJvY2Vzc29yT3B0aW9ucyA9IHZvaWQgMDtcbmNvbnN0IGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4vbWVzc2FnZXNcIik7XG5leHBvcnRzLmRlZmF1bHRGcmFtZVByb2Nlc3Nvck9wdGlvbnMgPSB7XG4gICAgcG9zaXRpdmVTcGVlY2hUaHJlc2hvbGQ6IDAuMyxcbiAgICBuZWdhdGl2ZVNwZWVjaFRocmVzaG9sZDogMC4yNSxcbiAgICBwcmVTcGVlY2hQYWRNczogODAwLFxuICAgIHJlZGVtcHRpb25NczogMTQwMCxcbiAgICBtaW5TcGVlY2hNczogNDAwLFxuICAgIHN1Ym1pdFVzZXJTcGVlY2hPblBhdXNlOiBmYWxzZSxcbn07XG5mdW5jdGlvbiB2YWxpZGF0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnBvc2l0aXZlU3BlZWNoVGhyZXNob2xkIDwgMCB8fFxuICAgICAgICBvcHRpb25zLnBvc2l0aXZlU3BlZWNoVGhyZXNob2xkID4gMSkge1xuICAgICAgICBsb2dnaW5nXzEubG9nLmVycm9yKFwicG9zaXRpdmVTcGVlY2hUaHJlc2hvbGQgc2hvdWxkIGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVwiKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubmVnYXRpdmVTcGVlY2hUaHJlc2hvbGQgPCAwIHx8XG4gICAgICAgIG9wdGlvbnMubmVnYXRpdmVTcGVlY2hUaHJlc2hvbGQgPiBvcHRpb25zLnBvc2l0aXZlU3BlZWNoVGhyZXNob2xkKSB7XG4gICAgICAgIGxvZ2dpbmdfMS5sb2cuZXJyb3IoXCJuZWdhdGl2ZVNwZWVjaFRocmVzaG9sZCBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCBwb3NpdGl2ZVNwZWVjaFRocmVzaG9sZFwiKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucHJlU3BlZWNoUGFkTXMgPCAwKSB7XG4gICAgICAgIGxvZ2dpbmdfMS5sb2cuZXJyb3IoXCJwcmVTcGVlY2hQYWRNcyBzaG91bGQgYmUgcG9zaXRpdmVcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJlZGVtcHRpb25NcyA8IDApIHtcbiAgICAgICAgbG9nZ2luZ18xLmxvZy5lcnJvcihcInJlZGVtcHRpb25NcyBzaG91bGQgYmUgcG9zaXRpdmVcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm1pblNwZWVjaE1zIDwgMCkge1xuICAgICAgICBsb2dnaW5nXzEubG9nLmVycm9yKFwibWluU3BlZWNoTXMgc2hvdWxkIGJlIHBvc2l0aXZlXCIpO1xuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVPcHRpb25zID0gdmFsaWRhdGVPcHRpb25zO1xuY29uc3QgY29uY2F0QXJyYXlzID0gKGFycmF5cykgPT4ge1xuICAgIGNvbnN0IHNpemVzID0gYXJyYXlzLnJlZHVjZSgob3V0LCBuZXh0KSA9PiB7XG4gICAgICAgIG91dC5wdXNoKG91dC5hdCgtMSkgKyBuZXh0Lmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfSwgWzBdKTtcbiAgICBjb25zdCBvdXRBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoc2l6ZXMuYXQoLTEpKTtcbiAgICBhcnJheXMuZm9yRWFjaCgoYXJyLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBwbGFjZSA9IHNpemVzW2luZGV4XTtcbiAgICAgICAgb3V0QXJyYXkuc2V0KGFyciwgcGxhY2UpO1xuICAgIH0pO1xuICAgIHJldHVybiBvdXRBcnJheTtcbn07XG5mdW5jdGlvbiBjYWxjdWxhdGVGcmFtZVBhcmFtcyhvcHRpb25zLCBtc1BlckZyYW1lKSB7XG4gICAgY29uc3QgcmVkZW1wdGlvbkZyYW1lcyA9IE1hdGguZmxvb3Iob3B0aW9ucy5yZWRlbXB0aW9uTXMgLyBtc1BlckZyYW1lKTtcbiAgICBjb25zdCBwcmVTcGVlY2hQYWRGcmFtZXMgPSBNYXRoLmZsb29yKG9wdGlvbnMucHJlU3BlZWNoUGFkTXMgLyBtc1BlckZyYW1lKTtcbiAgICBjb25zdCBtaW5TcGVlY2hGcmFtZXMgPSBNYXRoLmZsb29yKG9wdGlvbnMubWluU3BlZWNoTXMgLyBtc1BlckZyYW1lKTtcbiAgICByZXR1cm4geyByZWRlbXB0aW9uRnJhbWVzLCBwcmVTcGVlY2hQYWRGcmFtZXMsIG1pblNwZWVjaEZyYW1lcyB9O1xufVxuY2xhc3MgRnJhbWVQcm9jZXNzb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1vZGVsUHJvY2Vzc0Z1bmMsIG1vZGVsUmVzZXRGdW5jLCBvcHRpb25zLCBtc1BlckZyYW1lKSB7XG4gICAgICAgIHRoaXMubW9kZWxQcm9jZXNzRnVuYyA9IG1vZGVsUHJvY2Vzc0Z1bmM7XG4gICAgICAgIHRoaXMubW9kZWxSZXNldEZ1bmMgPSBtb2RlbFJlc2V0RnVuYztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5tc1BlckZyYW1lID0gbXNQZXJGcmFtZTtcbiAgICAgICAgdGhpcy5zcGVha2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlZGVtcHRpb25Db3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5zcGVlY2hGcmFtZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zcGVlY2hSZWFsU3RhcnRGaXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldE9wdGlvbnMgPSAodXBkYXRlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucywgLi4udXBkYXRlIH07XG4gICAgICAgICAgICBjb25zdCB7IHJlZGVtcHRpb25GcmFtZXMsIHByZVNwZWVjaFBhZEZyYW1lcywgbWluU3BlZWNoRnJhbWVzIH0gPSBjYWxjdWxhdGVGcmFtZVBhcmFtcyh0aGlzLm9wdGlvbnMsIHRoaXMubXNQZXJGcmFtZSk7XG4gICAgICAgICAgICB0aGlzLnJlZGVtcHRpb25GcmFtZXMgPSByZWRlbXB0aW9uRnJhbWVzO1xuICAgICAgICAgICAgdGhpcy5wcmVTcGVlY2hQYWRGcmFtZXMgPSBwcmVTcGVlY2hQYWRGcmFtZXM7XG4gICAgICAgICAgICB0aGlzLm1pblNwZWVjaEZyYW1lcyA9IG1pblNwZWVjaEZyYW1lcztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXNldCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3BlYWtpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3BlZWNoUmVhbFN0YXJ0RmlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXIgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubW9kZWxSZXNldEZ1bmMoKTtcbiAgICAgICAgICAgIHRoaXMucmVkZW1wdGlvbkNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5zcGVlY2hGcmFtZUNvdW50ID0gMDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wYXVzZSA9IChoYW5kbGVFdmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3VibWl0VXNlclNwZWVjaE9uUGF1c2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZFNlZ21lbnQoaGFuZGxlRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc3VtZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbmRTZWdtZW50ID0gKGhhbmRsZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IHRoaXMuYXVkaW9CdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyID0gW107XG4gICAgICAgICAgICBjb25zdCBzcGVha2luZyA9IHRoaXMuc3BlYWtpbmc7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICBpZiAoc3BlYWtpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVlY2hGcmFtZUNvdW50ID0gYXVkaW9CdWZmZXIucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXNTcGVlY2ggPyBhY2MgKyAxIDogYWNjO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIGlmIChzcGVlY2hGcmFtZUNvdW50ID49IHRoaXMubWluU3BlZWNoRnJhbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gY29uY2F0QXJyYXlzKGF1ZGlvQnVmZmVyLm1hcCgoaXRlbSkgPT4gaXRlbS5mcmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFdmVudCh7IG1zZzogbWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaEVuZCwgYXVkaW8gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFdmVudCh7IG1zZzogbWVzc2FnZXNfMS5NZXNzYWdlLlZBRE1pc2ZpcmUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByb2Nlc3MgPSBhc3luYyAoZnJhbWUsIGhhbmRsZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJvYnMgPSBhd2FpdCB0aGlzLm1vZGVsUHJvY2Vzc0Z1bmMoZnJhbWUpO1xuICAgICAgICAgICAgY29uc3QgaXNTcGVlY2ggPSBwcm9icy5pc1NwZWVjaCA+PSB0aGlzLm9wdGlvbnMucG9zaXRpdmVTcGVlY2hUaHJlc2hvbGQ7XG4gICAgICAgICAgICBoYW5kbGVFdmVudCh7IHByb2JzLCBtc2c6IG1lc3NhZ2VzXzEuTWVzc2FnZS5GcmFtZVByb2Nlc3NlZCwgZnJhbWUgfSk7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgICAgIGZyYW1lLFxuICAgICAgICAgICAgICAgIGlzU3BlZWNoLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaXNTcGVlY2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVjaEZyYW1lQ291bnQrKztcbiAgICAgICAgICAgICAgICB0aGlzLnJlZGVtcHRpb25Db3VudGVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1NwZWVjaCAmJiAhdGhpcy5zcGVha2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3BlYWtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhhbmRsZUV2ZW50KHsgbXNnOiBtZXNzYWdlc18xLk1lc3NhZ2UuU3BlZWNoU3RhcnQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zcGVha2luZyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuc3BlZWNoRnJhbWVDb3VudCA9PT0gdGhpcy5taW5TcGVlY2hGcmFtZXMgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5zcGVlY2hSZWFsU3RhcnRGaXJlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3BlZWNoUmVhbFN0YXJ0RmlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhhbmRsZUV2ZW50KHsgbXNnOiBtZXNzYWdlc18xLk1lc3NhZ2UuU3BlZWNoUmVhbFN0YXJ0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb2JzLmlzU3BlZWNoIDwgdGhpcy5vcHRpb25zLm5lZ2F0aXZlU3BlZWNoVGhyZXNob2xkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zcGVha2luZyAmJlxuICAgICAgICAgICAgICAgICsrdGhpcy5yZWRlbXB0aW9uQ291bnRlciA+PSB0aGlzLnJlZGVtcHRpb25GcmFtZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZGVtcHRpb25Db3VudGVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVjaEZyYW1lQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3BlYWtpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVjaFJlYWxTdGFydEZpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSB0aGlzLmF1ZGlvQnVmZmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9CdWZmZXIgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVlY2hGcmFtZUNvdW50ID0gYXVkaW9CdWZmZXIucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXNTcGVlY2ggPyBhY2MgKyAxIDogYWNjO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIGlmIChzcGVlY2hGcmFtZUNvdW50ID49IHRoaXMubWluU3BlZWNoRnJhbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gY29uY2F0QXJyYXlzKGF1ZGlvQnVmZmVyLm1hcCgoaXRlbSkgPT4gaXRlbS5mcmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFdmVudCh7IG1zZzogbWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaEVuZCwgYXVkaW8gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFdmVudCh7IG1zZzogbWVzc2FnZXNfMS5NZXNzYWdlLlZBRE1pc2ZpcmUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnNwZWFraW5nKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuYXVkaW9CdWZmZXIubGVuZ3RoID4gdGhpcy5wcmVTcGVlY2hQYWRGcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0J1ZmZlci5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVjaEZyYW1lQ291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmF1ZGlvQnVmZmVyID0gW107XG4gICAgICAgIGNvbnN0IHsgcmVkZW1wdGlvbkZyYW1lcywgcHJlU3BlZWNoUGFkRnJhbWVzLCBtaW5TcGVlY2hGcmFtZXMgfSA9IGNhbGN1bGF0ZUZyYW1lUGFyYW1zKHRoaXMub3B0aW9ucywgdGhpcy5tc1BlckZyYW1lKTtcbiAgICAgICAgdGhpcy5yZWRlbXB0aW9uRnJhbWVzID0gcmVkZW1wdGlvbkZyYW1lcztcbiAgICAgICAgdGhpcy5wcmVTcGVlY2hQYWRGcmFtZXMgPSBwcmVTcGVlY2hQYWRGcmFtZXM7XG4gICAgICAgIHRoaXMubWluU3BlZWNoRnJhbWVzID0gbWluU3BlZWNoRnJhbWVzO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxufVxuZXhwb3J0cy5GcmFtZVByb2Nlc3NvciA9IEZyYW1lUHJvY2Vzc29yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJhbWUtcHJvY2Vzc29yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/frame-processor.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getDefaultRealTimeVADOptions = exports.MicVAD = exports.DEFAULT_MODEL = exports.utils = exports.NonRealTimeVAD = exports.Message = exports.FrameProcessor = exports.defaultModelFetcher = exports.baseAssetPath = void 0;\nvar asset_path_1 = __webpack_require__(/*! ./asset-path */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/asset-path.js\");\nObject.defineProperty(exports, \"baseAssetPath\", ({ enumerable: true, get: function () { return asset_path_1.baseAssetPath; } }));\nvar default_model_fetcher_1 = __webpack_require__(/*! ./default-model-fetcher */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/default-model-fetcher.js\");\nObject.defineProperty(exports, \"defaultModelFetcher\", ({ enumerable: true, get: function () { return default_model_fetcher_1.defaultModelFetcher; } }));\nvar frame_processor_1 = __webpack_require__(/*! ./frame-processor */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/frame-processor.js\");\nObject.defineProperty(exports, \"FrameProcessor\", ({ enumerable: true, get: function () { return frame_processor_1.FrameProcessor; } }));\nvar messages_1 = __webpack_require__(/*! ./messages */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/messages.js\");\nObject.defineProperty(exports, \"Message\", ({ enumerable: true, get: function () { return messages_1.Message; } }));\nvar non_real_time_vad_1 = __webpack_require__(/*! ./non-real-time-vad */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/non-real-time-vad.js\");\nObject.defineProperty(exports, \"NonRealTimeVAD\", ({ enumerable: true, get: function () { return non_real_time_vad_1.NonRealTimeVAD; } }));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/utils.js\");\nexports.utils = {\n    audioFileToArray: utils_1.audioFileToArray,\n    minFramesForTargetMS: utils_1.minFramesForTargetMS,\n    arrayBufferToBase64: utils_1.arrayBufferToBase64,\n    encodeWAV: utils_1.encodeWAV,\n};\nvar real_time_vad_1 = __webpack_require__(/*! ./real-time-vad */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/real-time-vad.js\");\nObject.defineProperty(exports, \"DEFAULT_MODEL\", ({ enumerable: true, get: function () { return real_time_vad_1.DEFAULT_MODEL; } }));\nObject.defineProperty(exports, \"MicVAD\", ({ enumerable: true, get: function () { return real_time_vad_1.MicVAD; } }));\nObject.defineProperty(exports, \"getDefaultRealTimeVADOptions\", ({ enumerable: true, get: function () { return real_time_vad_1.getDefaultRealTimeVADOptions; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DLEdBQUcsY0FBYyxHQUFHLHFCQUFxQixHQUFHLGFBQWEsR0FBRyxzQkFBc0IsR0FBRyxlQUFlLEdBQUcsc0JBQXNCLEdBQUcsMkJBQTJCLEdBQUcscUJBQXFCO0FBQ3ZOLG1CQUFtQixtQkFBTyxDQUFDLGdGQUFjO0FBQ3pDLGlEQUFnRCxFQUFFLHFDQUFxQyxzQ0FBc0MsRUFBQztBQUM5SCw4QkFBOEIsbUJBQU8sQ0FBQyxzR0FBeUI7QUFDL0QsdURBQXNELEVBQUUscUNBQXFDLHVEQUF1RCxFQUFDO0FBQ3JKLHdCQUF3QixtQkFBTyxDQUFDLDBGQUFtQjtBQUNuRCxrREFBaUQsRUFBRSxxQ0FBcUMsNENBQTRDLEVBQUM7QUFDckksaUJBQWlCLG1CQUFPLENBQUMsNEVBQVk7QUFDckMsMkNBQTBDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ2hILDBCQUEwQixtQkFBTyxDQUFDLDhGQUFxQjtBQUN2RCxrREFBaUQsRUFBRSxxQ0FBcUMsOENBQThDLEVBQUM7QUFDdkksZ0JBQWdCLG1CQUFPLENBQUMsc0VBQVM7QUFDakMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUJBQU8sQ0FBQyxzRkFBaUI7QUFDL0MsaURBQWdELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ2pJLDBDQUF5QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUNuSCxnRUFBK0QsRUFBRSxxQ0FBcUMsd0RBQXdELEVBQUM7QUFDL0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZXJ0aG9uLWZyb250Ly4vbm9kZV9tb2R1bGVzL0ByaWNreTAxMjMvdmFkLXdlYi9kaXN0L2luZGV4LmpzPzU3MDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldERlZmF1bHRSZWFsVGltZVZBRE9wdGlvbnMgPSBleHBvcnRzLk1pY1ZBRCA9IGV4cG9ydHMuREVGQVVMVF9NT0RFTCA9IGV4cG9ydHMudXRpbHMgPSBleHBvcnRzLk5vblJlYWxUaW1lVkFEID0gZXhwb3J0cy5NZXNzYWdlID0gZXhwb3J0cy5GcmFtZVByb2Nlc3NvciA9IGV4cG9ydHMuZGVmYXVsdE1vZGVsRmV0Y2hlciA9IGV4cG9ydHMuYmFzZUFzc2V0UGF0aCA9IHZvaWQgMDtcbnZhciBhc3NldF9wYXRoXzEgPSByZXF1aXJlKFwiLi9hc3NldC1wYXRoXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYmFzZUFzc2V0UGF0aFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYXNzZXRfcGF0aF8xLmJhc2VBc3NldFBhdGg7IH0gfSk7XG52YXIgZGVmYXVsdF9tb2RlbF9mZXRjaGVyXzEgPSByZXF1aXJlKFwiLi9kZWZhdWx0LW1vZGVsLWZldGNoZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWZhdWx0TW9kZWxGZXRjaGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWZhdWx0X21vZGVsX2ZldGNoZXJfMS5kZWZhdWx0TW9kZWxGZXRjaGVyOyB9IH0pO1xudmFyIGZyYW1lX3Byb2Nlc3Nvcl8xID0gcmVxdWlyZShcIi4vZnJhbWUtcHJvY2Vzc29yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRnJhbWVQcm9jZXNzb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZyYW1lX3Byb2Nlc3Nvcl8xLkZyYW1lUHJvY2Vzc29yOyB9IH0pO1xudmFyIG1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi9tZXNzYWdlc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1lc3NhZ2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1lc3NhZ2VzXzEuTWVzc2FnZTsgfSB9KTtcbnZhciBub25fcmVhbF90aW1lX3ZhZF8xID0gcmVxdWlyZShcIi4vbm9uLXJlYWwtdGltZS12YWRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJOb25SZWFsVGltZVZBRFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbm9uX3JlYWxfdGltZV92YWRfMS5Ob25SZWFsVGltZVZBRDsgfSB9KTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmV4cG9ydHMudXRpbHMgPSB7XG4gICAgYXVkaW9GaWxlVG9BcnJheTogdXRpbHNfMS5hdWRpb0ZpbGVUb0FycmF5LFxuICAgIG1pbkZyYW1lc0ZvclRhcmdldE1TOiB1dGlsc18xLm1pbkZyYW1lc0ZvclRhcmdldE1TLFxuICAgIGFycmF5QnVmZmVyVG9CYXNlNjQ6IHV0aWxzXzEuYXJyYXlCdWZmZXJUb0Jhc2U2NCxcbiAgICBlbmNvZGVXQVY6IHV0aWxzXzEuZW5jb2RlV0FWLFxufTtcbnZhciByZWFsX3RpbWVfdmFkXzEgPSByZXF1aXJlKFwiLi9yZWFsLXRpbWUtdmFkXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiREVGQVVMVF9NT0RFTFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVhbF90aW1lX3ZhZF8xLkRFRkFVTFRfTU9ERUw7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNaWNWQURcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlYWxfdGltZV92YWRfMS5NaWNWQUQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXREZWZhdWx0UmVhbFRpbWVWQURPcHRpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZWFsX3RpbWVfdmFkXzEuZ2V0RGVmYXVsdFJlYWxUaW1lVkFET3B0aW9uczsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/logging.js":
/*!*********************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/logging.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.log = void 0;\nconst mkLogger = (level) => (message) => {\n    console.log(`VAD | ${level} >`, message);\n};\nexports.log = {\n    error: mkLogger(\"error\"),\n    debug: mkLogger(\"debug\"),\n    warn: mkLogger(\"warn\"),\n};\n//# sourceMappingURL=logging.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvbG9nZ2luZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxXQUFXO0FBQ1g7QUFDQSx5QkFBeUIsT0FBTztBQUNoQztBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2VydGhvbi1mcm9udC8uL25vZGVfbW9kdWxlcy9Acmlja3kwMTIzL3ZhZC13ZWIvZGlzdC9sb2dnaW5nLmpzPzgxNTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvZyA9IHZvaWQgMDtcbmNvbnN0IG1rTG9nZ2VyID0gKGxldmVsKSA9PiAobWVzc2FnZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBWQUQgfCAke2xldmVsfSA+YCwgbWVzc2FnZSk7XG59O1xuZXhwb3J0cy5sb2cgPSB7XG4gICAgZXJyb3I6IG1rTG9nZ2VyKFwiZXJyb3JcIiksXG4gICAgZGVidWc6IG1rTG9nZ2VyKFwiZGVidWdcIiksXG4gICAgd2FybjogbWtMb2dnZXIoXCJ3YXJuXCIpLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/logging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/messages.js":
/*!**********************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/messages.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Message = void 0;\nvar Message;\n(function (Message) {\n    Message[\"AudioFrame\"] = \"AUDIO_FRAME\";\n    Message[\"SpeechStart\"] = \"SPEECH_START\";\n    Message[\"VADMisfire\"] = \"VAD_MISFIRE\";\n    Message[\"SpeechEnd\"] = \"SPEECH_END\";\n    Message[\"SpeechStop\"] = \"SPEECH_STOP\";\n    Message[\"SpeechRealStart\"] = \"SPEECH_REAL_START\";\n    Message[\"FrameProcessed\"] = \"FRAME_PROCESSED\";\n})(Message || (exports.Message = Message = {}));\n//# sourceMappingURL=messages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvbWVzc2FnZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsY0FBYyxlQUFlLGVBQWU7QUFDN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZXJ0aG9uLWZyb250Ly4vbm9kZV9tb2R1bGVzL0ByaWNreTAxMjMvdmFkLXdlYi9kaXN0L21lc3NhZ2VzLmpzP2Y2YzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1lc3NhZ2UgPSB2b2lkIDA7XG52YXIgTWVzc2FnZTtcbihmdW5jdGlvbiAoTWVzc2FnZSkge1xuICAgIE1lc3NhZ2VbXCJBdWRpb0ZyYW1lXCJdID0gXCJBVURJT19GUkFNRVwiO1xuICAgIE1lc3NhZ2VbXCJTcGVlY2hTdGFydFwiXSA9IFwiU1BFRUNIX1NUQVJUXCI7XG4gICAgTWVzc2FnZVtcIlZBRE1pc2ZpcmVcIl0gPSBcIlZBRF9NSVNGSVJFXCI7XG4gICAgTWVzc2FnZVtcIlNwZWVjaEVuZFwiXSA9IFwiU1BFRUNIX0VORFwiO1xuICAgIE1lc3NhZ2VbXCJTcGVlY2hTdG9wXCJdID0gXCJTUEVFQ0hfU1RPUFwiO1xuICAgIE1lc3NhZ2VbXCJTcGVlY2hSZWFsU3RhcnRcIl0gPSBcIlNQRUVDSF9SRUFMX1NUQVJUXCI7XG4gICAgTWVzc2FnZVtcIkZyYW1lUHJvY2Vzc2VkXCJdID0gXCJGUkFNRV9QUk9DRVNTRURcIjtcbn0pKE1lc3NhZ2UgfHwgKGV4cG9ydHMuTWVzc2FnZSA9IE1lc3NhZ2UgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/messages.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/models/common.js":
/*!***************************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/models/common.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=common.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvbW9kZWxzL2NvbW1vbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tlcnRob24tZnJvbnQvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvbW9kZWxzL2NvbW1vbi5qcz80YTYzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/models/common.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/models/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/models/index.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SileroV5 = exports.SileroLegacy = void 0;\n__exportStar(__webpack_require__(/*! ./common */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/models/common.js\"), exports);\nvar legacy_1 = __webpack_require__(/*! ./legacy */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/models/legacy.js\");\nObject.defineProperty(exports, \"SileroLegacy\", ({ enumerable: true, get: function () { return legacy_1.SileroLegacy; } }));\nvar v5_1 = __webpack_require__(/*! ./v5 */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/models/v5.js\");\nObject.defineProperty(exports, \"SileroV5\", ({ enumerable: true, get: function () { return v5_1.SileroV5; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvbW9kZWxzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixHQUFHLG9CQUFvQjtBQUN2QyxhQUFhLG1CQUFPLENBQUMsK0VBQVU7QUFDL0IsZUFBZSxtQkFBTyxDQUFDLCtFQUFVO0FBQ2pDLGdEQUErQyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUN4SCxXQUFXLG1CQUFPLENBQUMsdUVBQU07QUFDekIsNENBQTJDLEVBQUUscUNBQXFDLHlCQUF5QixFQUFDO0FBQzVHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2VydGhvbi1mcm9udC8uL25vZGVfbW9kdWxlcy9Acmlja3kwMTIzL3ZhZC13ZWIvZGlzdC9tb2RlbHMvaW5kZXguanM/ZGQ2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaWxlcm9WNSA9IGV4cG9ydHMuU2lsZXJvTGVnYWN5ID0gdm9pZCAwO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbW1vblwiKSwgZXhwb3J0cyk7XG52YXIgbGVnYWN5XzEgPSByZXF1aXJlKFwiLi9sZWdhY3lcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTaWxlcm9MZWdhY3lcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxlZ2FjeV8xLlNpbGVyb0xlZ2FjeTsgfSB9KTtcbnZhciB2NV8xID0gcmVxdWlyZShcIi4vdjVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTaWxlcm9WNVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdjVfMS5TaWxlcm9WNTsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/models/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/models/legacy.js":
/*!***************************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/models/legacy.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SileroLegacy = void 0;\nconst logging_1 = __webpack_require__(/*! ../logging */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/logging.js\");\nclass SileroLegacy {\n    constructor(ortInstance, _session, _h, _c, _sr) {\n        this.ortInstance = ortInstance;\n        this._session = _session;\n        this._h = _h;\n        this._c = _c;\n        this._sr = _sr;\n        this.reset_state = () => {\n            const zeroes = Array(2 * 64).fill(0);\n            this._h = new this.ortInstance.Tensor(\"float32\", zeroes, [2, 1, 64]);\n            this._c = new this.ortInstance.Tensor(\"float32\", zeroes, [2, 1, 64]);\n        };\n        this.process = async (audioFrame) => {\n            const t = new this.ortInstance.Tensor(\"float32\", audioFrame, [\n                1,\n                audioFrame.length,\n            ]);\n            const inputs = {\n                input: t,\n                h: this._h,\n                c: this._c,\n                sr: this._sr,\n            };\n            const out = await this._session.run(inputs);\n            this._h = out[\"hn\"];\n            this._c = out[\"cn\"];\n            const [isSpeech] = out[\"output\"]?.data;\n            const notSpeech = 1 - isSpeech;\n            return { notSpeech, isSpeech };\n        };\n        this.release = async () => {\n            await this._session.release();\n            this._h.dispose();\n            this._c.dispose();\n            this._sr.dispose();\n        };\n    }\n}\nexports.SileroLegacy = SileroLegacy;\n_a = SileroLegacy;\nSileroLegacy.new = async (ortInstance, modelFetcher) => {\n    logging_1.log.debug(\"initializing vad\");\n    const modelArrayBuffer = await modelFetcher();\n    const _session = await ortInstance.InferenceSession.create(modelArrayBuffer);\n    const _sr = new ortInstance.Tensor(\"int64\", [16000n]);\n    const zeroes = Array(2 * 64).fill(0);\n    const _h = new ortInstance.Tensor(\"float32\", zeroes, [2, 1, 64]);\n    const _c = new ortInstance.Tensor(\"float32\", zeroes, [2, 1, 64]);\n    logging_1.log.debug(\"vad is initialized\");\n    const model = new _a(ortInstance, _session, _h, _c, _sr);\n    return model;\n};\n//# sourceMappingURL=legacy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvbW9kZWxzL2xlZ2FjeS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixrQkFBa0IsbUJBQU8sQ0FBQywyRUFBWTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tlcnRob24tZnJvbnQvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvbW9kZWxzL2xlZ2FjeS5qcz9iMzA2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9hO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaWxlcm9MZWdhY3kgPSB2b2lkIDA7XG5jb25zdCBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi4vbG9nZ2luZ1wiKTtcbmNsYXNzIFNpbGVyb0xlZ2FjeSB7XG4gICAgY29uc3RydWN0b3Iob3J0SW5zdGFuY2UsIF9zZXNzaW9uLCBfaCwgX2MsIF9zcikge1xuICAgICAgICB0aGlzLm9ydEluc3RhbmNlID0gb3J0SW5zdGFuY2U7XG4gICAgICAgIHRoaXMuX3Nlc3Npb24gPSBfc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5faCA9IF9oO1xuICAgICAgICB0aGlzLl9jID0gX2M7XG4gICAgICAgIHRoaXMuX3NyID0gX3NyO1xuICAgICAgICB0aGlzLnJlc2V0X3N0YXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgemVyb2VzID0gQXJyYXkoMiAqIDY0KS5maWxsKDApO1xuICAgICAgICAgICAgdGhpcy5faCA9IG5ldyB0aGlzLm9ydEluc3RhbmNlLlRlbnNvcihcImZsb2F0MzJcIiwgemVyb2VzLCBbMiwgMSwgNjRdKTtcbiAgICAgICAgICAgIHRoaXMuX2MgPSBuZXcgdGhpcy5vcnRJbnN0YW5jZS5UZW5zb3IoXCJmbG9hdDMyXCIsIHplcm9lcywgWzIsIDEsIDY0XSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvY2VzcyA9IGFzeW5jIChhdWRpb0ZyYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gbmV3IHRoaXMub3J0SW5zdGFuY2UuVGVuc29yKFwiZmxvYXQzMlwiLCBhdWRpb0ZyYW1lLCBbXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICBhdWRpb0ZyYW1lLmxlbmd0aCxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRzID0ge1xuICAgICAgICAgICAgICAgIGlucHV0OiB0LFxuICAgICAgICAgICAgICAgIGg6IHRoaXMuX2gsXG4gICAgICAgICAgICAgICAgYzogdGhpcy5fYyxcbiAgICAgICAgICAgICAgICBzcjogdGhpcy5fc3IsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgb3V0ID0gYXdhaXQgdGhpcy5fc2Vzc2lvbi5ydW4oaW5wdXRzKTtcbiAgICAgICAgICAgIHRoaXMuX2ggPSBvdXRbXCJoblwiXTtcbiAgICAgICAgICAgIHRoaXMuX2MgPSBvdXRbXCJjblwiXTtcbiAgICAgICAgICAgIGNvbnN0IFtpc1NwZWVjaF0gPSBvdXRbXCJvdXRwdXRcIl0/LmRhdGE7XG4gICAgICAgICAgICBjb25zdCBub3RTcGVlY2ggPSAxIC0gaXNTcGVlY2g7XG4gICAgICAgICAgICByZXR1cm4geyBub3RTcGVlY2gsIGlzU3BlZWNoIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVsZWFzZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3Nlc3Npb24ucmVsZWFzZSgpO1xuICAgICAgICAgICAgdGhpcy5faC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9jLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3NyLmRpc3Bvc2UoKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlNpbGVyb0xlZ2FjeSA9IFNpbGVyb0xlZ2FjeTtcbl9hID0gU2lsZXJvTGVnYWN5O1xuU2lsZXJvTGVnYWN5Lm5ldyA9IGFzeW5jIChvcnRJbnN0YW5jZSwgbW9kZWxGZXRjaGVyKSA9PiB7XG4gICAgbG9nZ2luZ18xLmxvZy5kZWJ1ZyhcImluaXRpYWxpemluZyB2YWRcIik7XG4gICAgY29uc3QgbW9kZWxBcnJheUJ1ZmZlciA9IGF3YWl0IG1vZGVsRmV0Y2hlcigpO1xuICAgIGNvbnN0IF9zZXNzaW9uID0gYXdhaXQgb3J0SW5zdGFuY2UuSW5mZXJlbmNlU2Vzc2lvbi5jcmVhdGUobW9kZWxBcnJheUJ1ZmZlcik7XG4gICAgY29uc3QgX3NyID0gbmV3IG9ydEluc3RhbmNlLlRlbnNvcihcImludDY0XCIsIFsxNjAwMG5dKTtcbiAgICBjb25zdCB6ZXJvZXMgPSBBcnJheSgyICogNjQpLmZpbGwoMCk7XG4gICAgY29uc3QgX2ggPSBuZXcgb3J0SW5zdGFuY2UuVGVuc29yKFwiZmxvYXQzMlwiLCB6ZXJvZXMsIFsyLCAxLCA2NF0pO1xuICAgIGNvbnN0IF9jID0gbmV3IG9ydEluc3RhbmNlLlRlbnNvcihcImZsb2F0MzJcIiwgemVyb2VzLCBbMiwgMSwgNjRdKTtcbiAgICBsb2dnaW5nXzEubG9nLmRlYnVnKFwidmFkIGlzIGluaXRpYWxpemVkXCIpO1xuICAgIGNvbnN0IG1vZGVsID0gbmV3IF9hKG9ydEluc3RhbmNlLCBfc2Vzc2lvbiwgX2gsIF9jLCBfc3IpO1xuICAgIHJldHVybiBtb2RlbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZWdhY3kuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/models/legacy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/models/v5.js":
/*!***********************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/models/v5.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SileroV5 = void 0;\nconst logging_1 = __webpack_require__(/*! ../logging */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/logging.js\");\nfunction getNewState(ortInstance) {\n    const zeroes = Array(2 * 128).fill(0);\n    return new ortInstance.Tensor(\"float32\", zeroes, [2, 1, 128]);\n}\nclass SileroV5 {\n    constructor(_session, _state, _sr, ortInstance) {\n        this._session = _session;\n        this._state = _state;\n        this._sr = _sr;\n        this.ortInstance = ortInstance;\n        this.reset_state = () => {\n            this._state = getNewState(this.ortInstance);\n        };\n        this.process = async (audioFrame) => {\n            const t = new this.ortInstance.Tensor(\"float32\", audioFrame, [\n                1,\n                audioFrame.length,\n            ]);\n            const inputs = {\n                input: t,\n                state: this._state,\n                sr: this._sr,\n            };\n            const out = await this._session.run(inputs);\n            if (!out[\"stateN\"]) {\n                throw new Error(\"No state from model\");\n            }\n            this._state = out[\"stateN\"];\n            if (!out[\"output\"]?.data) {\n                throw new Error(\"No output from model\");\n            }\n            const isSpeech = out[\"output\"].data[0];\n            if (typeof isSpeech != \"number\") {\n                throw new Error(\"Weird output data\");\n            }\n            const notSpeech = 1 - isSpeech;\n            return { notSpeech, isSpeech };\n        };\n        this.release = async () => {\n            await this._session.release();\n            this._state.dispose();\n            this._sr.dispose();\n        };\n    }\n}\nexports.SileroV5 = SileroV5;\n_a = SileroV5;\nSileroV5.new = async (ortInstance, modelFetcher) => {\n    logging_1.log.debug(\"Loading VAD...\");\n    const modelArrayBuffer = await modelFetcher();\n    const _session = await ortInstance.InferenceSession.create(modelArrayBuffer);\n    const _sr = new ortInstance.Tensor(\"int64\", [16000n]);\n    const _state = getNewState(ortInstance);\n    logging_1.log.debug(\"...finished loading VAD\");\n    return new _a(_session, _state, _sr, ortInstance);\n};\n//# sourceMappingURL=v5.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvbW9kZWxzL3Y1LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCLGtCQUFrQixtQkFBTyxDQUFDLDJFQUFZO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZXJ0aG9uLWZyb250Ly4vbm9kZV9tb2R1bGVzL0ByaWNreTAxMjMvdmFkLXdlYi9kaXN0L21vZGVscy92NS5qcz8zYmQ0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9hO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaWxlcm9WNSA9IHZvaWQgMDtcbmNvbnN0IGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuLi9sb2dnaW5nXCIpO1xuZnVuY3Rpb24gZ2V0TmV3U3RhdGUob3J0SW5zdGFuY2UpIHtcbiAgICBjb25zdCB6ZXJvZXMgPSBBcnJheSgyICogMTI4KS5maWxsKDApO1xuICAgIHJldHVybiBuZXcgb3J0SW5zdGFuY2UuVGVuc29yKFwiZmxvYXQzMlwiLCB6ZXJvZXMsIFsyLCAxLCAxMjhdKTtcbn1cbmNsYXNzIFNpbGVyb1Y1IHtcbiAgICBjb25zdHJ1Y3Rvcihfc2Vzc2lvbiwgX3N0YXRlLCBfc3IsIG9ydEluc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb24gPSBfc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBfc3RhdGU7XG4gICAgICAgIHRoaXMuX3NyID0gX3NyO1xuICAgICAgICB0aGlzLm9ydEluc3RhbmNlID0gb3J0SW5zdGFuY2U7XG4gICAgICAgIHRoaXMucmVzZXRfc3RhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IGdldE5ld1N0YXRlKHRoaXMub3J0SW5zdGFuY2UpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByb2Nlc3MgPSBhc3luYyAoYXVkaW9GcmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyB0aGlzLm9ydEluc3RhbmNlLlRlbnNvcihcImZsb2F0MzJcIiwgYXVkaW9GcmFtZSwgW1xuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgYXVkaW9GcmFtZS5sZW5ndGgsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IHtcbiAgICAgICAgICAgICAgICBpbnB1dDogdCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5fc3RhdGUsXG4gICAgICAgICAgICAgICAgc3I6IHRoaXMuX3NyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG91dCA9IGF3YWl0IHRoaXMuX3Nlc3Npb24ucnVuKGlucHV0cyk7XG4gICAgICAgICAgICBpZiAoIW91dFtcInN0YXRlTlwiXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHN0YXRlIGZyb20gbW9kZWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG91dFtcInN0YXRlTlwiXTtcbiAgICAgICAgICAgIGlmICghb3V0W1wib3V0cHV0XCJdPy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gb3V0cHV0IGZyb20gbW9kZWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc1NwZWVjaCA9IG91dFtcIm91dHB1dFwiXS5kYXRhWzBdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpc1NwZWVjaCAhPSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2VpcmQgb3V0cHV0IGRhdGFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBub3RTcGVlY2ggPSAxIC0gaXNTcGVlY2g7XG4gICAgICAgICAgICByZXR1cm4geyBub3RTcGVlY2gsIGlzU3BlZWNoIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVsZWFzZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3Nlc3Npb24ucmVsZWFzZSgpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fc3IuZGlzcG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuU2lsZXJvVjUgPSBTaWxlcm9WNTtcbl9hID0gU2lsZXJvVjU7XG5TaWxlcm9WNS5uZXcgPSBhc3luYyAob3J0SW5zdGFuY2UsIG1vZGVsRmV0Y2hlcikgPT4ge1xuICAgIGxvZ2dpbmdfMS5sb2cuZGVidWcoXCJMb2FkaW5nIFZBRC4uLlwiKTtcbiAgICBjb25zdCBtb2RlbEFycmF5QnVmZmVyID0gYXdhaXQgbW9kZWxGZXRjaGVyKCk7XG4gICAgY29uc3QgX3Nlc3Npb24gPSBhd2FpdCBvcnRJbnN0YW5jZS5JbmZlcmVuY2VTZXNzaW9uLmNyZWF0ZShtb2RlbEFycmF5QnVmZmVyKTtcbiAgICBjb25zdCBfc3IgPSBuZXcgb3J0SW5zdGFuY2UuVGVuc29yKFwiaW50NjRcIiwgWzE2MDAwbl0pO1xuICAgIGNvbnN0IF9zdGF0ZSA9IGdldE5ld1N0YXRlKG9ydEluc3RhbmNlKTtcbiAgICBsb2dnaW5nXzEubG9nLmRlYnVnKFwiLi4uZmluaXNoZWQgbG9hZGluZyBWQURcIik7XG4gICAgcmV0dXJuIG5ldyBfYShfc2Vzc2lvbiwgX3N0YXRlLCBfc3IsIG9ydEluc3RhbmNlKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12NS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/models/v5.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/non-real-time-vad.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/non-real-time-vad.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.NonRealTimeVAD = exports.defaultNonRealTimeVADOptions = void 0;\nconst ortInstance = __importStar(__webpack_require__(/*! onnxruntime-web */ \"(ssr)/./node_modules/onnxruntime-web/dist/ort.node.min.js\"));\nconst asset_path_1 = __webpack_require__(/*! ./asset-path */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/asset-path.js\");\nconst default_model_fetcher_1 = __webpack_require__(/*! ./default-model-fetcher */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/default-model-fetcher.js\");\nconst frame_processor_1 = __webpack_require__(/*! ./frame-processor */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/frame-processor.js\");\nconst messages_1 = __webpack_require__(/*! ./messages */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/messages.js\");\nconst models_1 = __webpack_require__(/*! ./models */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/models/index.js\");\nconst resampler_1 = __webpack_require__(/*! ./resampler */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/resampler.js\");\nexports.defaultNonRealTimeVADOptions = {\n    ...frame_processor_1.defaultFrameProcessorOptions,\n    modelURL: asset_path_1.baseAssetPath + \"silero_vad_legacy.onnx\",\n    modelFetcher: default_model_fetcher_1.defaultModelFetcher,\n};\nclass NonRealTimeVAD {\n    static async new(options = {}) {\n        const fullOptions = {\n            ...exports.defaultNonRealTimeVADOptions,\n            ...options,\n        };\n        (0, frame_processor_1.validateOptions)(fullOptions);\n        if (fullOptions.ortConfig !== undefined) {\n            fullOptions.ortConfig(ortInstance);\n        }\n        const modelFetcher = () => fullOptions.modelFetcher(fullOptions.modelURL);\n        const model = await models_1.SileroLegacy.new(ortInstance, modelFetcher);\n        const frameProcessor = new frame_processor_1.FrameProcessor(model.process, model.reset_state, {\n            positiveSpeechThreshold: fullOptions.positiveSpeechThreshold,\n            negativeSpeechThreshold: fullOptions.negativeSpeechThreshold,\n            redemptionMs: fullOptions.redemptionMs,\n            preSpeechPadMs: fullOptions.preSpeechPadMs,\n            minSpeechMs: fullOptions.minSpeechMs,\n            submitUserSpeechOnPause: fullOptions.submitUserSpeechOnPause,\n        }, 1536 / 16);\n        frameProcessor.resume();\n        const vad = new this(modelFetcher, ortInstance, fullOptions, frameProcessor);\n        return vad;\n    }\n    constructor(modelFetcher, ort, options, frameProcessor) {\n        this.modelFetcher = modelFetcher;\n        this.ort = ort;\n        this.options = options;\n        this.frameProcessor = frameProcessor;\n        this.frameSamples = 1536;\n    }\n    async *run(inputAudio, sampleRate) {\n        const resamplerOptions = {\n            nativeSampleRate: sampleRate,\n            targetSampleRate: 16000,\n            targetFrameSize: this.frameSamples,\n        };\n        const resampler = new resampler_1.Resampler(resamplerOptions);\n        let start = 0;\n        let end = 0;\n        let frameIndex = 0;\n        for await (const frame of resampler.stream(inputAudio)) {\n            const messageContainer = [];\n            await this.frameProcessor.process(frame, (event) => {\n                messageContainer.push(event);\n            });\n            for (const event of messageContainer) {\n                switch (event.msg) {\n                    case messages_1.Message.SpeechStart:\n                        start = (frameIndex * this.frameSamples) / 16;\n                        break;\n                    case messages_1.Message.SpeechEnd:\n                        end = ((frameIndex + 1) * this.frameSamples) / 16;\n                        yield { audio: event.audio, start, end };\n                        break;\n                    default:\n                        break;\n                }\n            }\n            frameIndex++;\n        }\n        const messageContainer = [];\n        this.frameProcessor.endSegment((event) => {\n            messageContainer.push(event);\n        });\n        for (const event of messageContainer) {\n            switch (event.msg) {\n                case messages_1.Message.SpeechEnd:\n                    yield {\n                        audio: event.audio,\n                        start,\n                        end: (frameIndex * this.frameSamples) / 16,\n                    };\n            }\n        }\n    }\n}\nexports.NonRealTimeVAD = NonRealTimeVAD;\n//# sourceMappingURL=non-real-time-vad.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3Qvbm9uLXJlYWwtdGltZS12YWQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQixHQUFHLG9DQUFvQztBQUM3RCxpQ0FBaUMsbUJBQU8sQ0FBQyxrRkFBaUI7QUFDMUQscUJBQXFCLG1CQUFPLENBQUMsZ0ZBQWM7QUFDM0MsZ0NBQWdDLG1CQUFPLENBQUMsc0dBQXlCO0FBQ2pFLDBCQUEwQixtQkFBTyxDQUFDLDBGQUFtQjtBQUNyRCxtQkFBbUIsbUJBQU8sQ0FBQyw0RUFBWTtBQUN2QyxpQkFBaUIsbUJBQU8sQ0FBQyw4RUFBVTtBQUNuQyxvQkFBb0IsbUJBQU8sQ0FBQyw4RUFBYTtBQUN6QyxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tlcnRob24tZnJvbnQvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3Qvbm9uLXJlYWwtdGltZS12YWQuanM/NDNiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Ob25SZWFsVGltZVZBRCA9IGV4cG9ydHMuZGVmYXVsdE5vblJlYWxUaW1lVkFET3B0aW9ucyA9IHZvaWQgMDtcbmNvbnN0IG9ydEluc3RhbmNlID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJvbm54cnVudGltZS13ZWJcIikpO1xuY29uc3QgYXNzZXRfcGF0aF8xID0gcmVxdWlyZShcIi4vYXNzZXQtcGF0aFwiKTtcbmNvbnN0IGRlZmF1bHRfbW9kZWxfZmV0Y2hlcl8xID0gcmVxdWlyZShcIi4vZGVmYXVsdC1tb2RlbC1mZXRjaGVyXCIpO1xuY29uc3QgZnJhbWVfcHJvY2Vzc29yXzEgPSByZXF1aXJlKFwiLi9mcmFtZS1wcm9jZXNzb3JcIik7XG5jb25zdCBtZXNzYWdlc18xID0gcmVxdWlyZShcIi4vbWVzc2FnZXNcIik7XG5jb25zdCBtb2RlbHNfMSA9IHJlcXVpcmUoXCIuL21vZGVsc1wiKTtcbmNvbnN0IHJlc2FtcGxlcl8xID0gcmVxdWlyZShcIi4vcmVzYW1wbGVyXCIpO1xuZXhwb3J0cy5kZWZhdWx0Tm9uUmVhbFRpbWVWQURPcHRpb25zID0ge1xuICAgIC4uLmZyYW1lX3Byb2Nlc3Nvcl8xLmRlZmF1bHRGcmFtZVByb2Nlc3Nvck9wdGlvbnMsXG4gICAgbW9kZWxVUkw6IGFzc2V0X3BhdGhfMS5iYXNlQXNzZXRQYXRoICsgXCJzaWxlcm9fdmFkX2xlZ2FjeS5vbm54XCIsXG4gICAgbW9kZWxGZXRjaGVyOiBkZWZhdWx0X21vZGVsX2ZldGNoZXJfMS5kZWZhdWx0TW9kZWxGZXRjaGVyLFxufTtcbmNsYXNzIE5vblJlYWxUaW1lVkFEIHtcbiAgICBzdGF0aWMgYXN5bmMgbmV3KG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBmdWxsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC4uLmV4cG9ydHMuZGVmYXVsdE5vblJlYWxUaW1lVkFET3B0aW9ucyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgICgwLCBmcmFtZV9wcm9jZXNzb3JfMS52YWxpZGF0ZU9wdGlvbnMpKGZ1bGxPcHRpb25zKTtcbiAgICAgICAgaWYgKGZ1bGxPcHRpb25zLm9ydENvbmZpZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmdWxsT3B0aW9ucy5vcnRDb25maWcob3J0SW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsRmV0Y2hlciA9ICgpID0+IGZ1bGxPcHRpb25zLm1vZGVsRmV0Y2hlcihmdWxsT3B0aW9ucy5tb2RlbFVSTCk7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gYXdhaXQgbW9kZWxzXzEuU2lsZXJvTGVnYWN5Lm5ldyhvcnRJbnN0YW5jZSwgbW9kZWxGZXRjaGVyKTtcbiAgICAgICAgY29uc3QgZnJhbWVQcm9jZXNzb3IgPSBuZXcgZnJhbWVfcHJvY2Vzc29yXzEuRnJhbWVQcm9jZXNzb3IobW9kZWwucHJvY2VzcywgbW9kZWwucmVzZXRfc3RhdGUsIHtcbiAgICAgICAgICAgIHBvc2l0aXZlU3BlZWNoVGhyZXNob2xkOiBmdWxsT3B0aW9ucy5wb3NpdGl2ZVNwZWVjaFRocmVzaG9sZCxcbiAgICAgICAgICAgIG5lZ2F0aXZlU3BlZWNoVGhyZXNob2xkOiBmdWxsT3B0aW9ucy5uZWdhdGl2ZVNwZWVjaFRocmVzaG9sZCxcbiAgICAgICAgICAgIHJlZGVtcHRpb25NczogZnVsbE9wdGlvbnMucmVkZW1wdGlvbk1zLFxuICAgICAgICAgICAgcHJlU3BlZWNoUGFkTXM6IGZ1bGxPcHRpb25zLnByZVNwZWVjaFBhZE1zLFxuICAgICAgICAgICAgbWluU3BlZWNoTXM6IGZ1bGxPcHRpb25zLm1pblNwZWVjaE1zLFxuICAgICAgICAgICAgc3VibWl0VXNlclNwZWVjaE9uUGF1c2U6IGZ1bGxPcHRpb25zLnN1Ym1pdFVzZXJTcGVlY2hPblBhdXNlLFxuICAgICAgICB9LCAxNTM2IC8gMTYpO1xuICAgICAgICBmcmFtZVByb2Nlc3Nvci5yZXN1bWUoKTtcbiAgICAgICAgY29uc3QgdmFkID0gbmV3IHRoaXMobW9kZWxGZXRjaGVyLCBvcnRJbnN0YW5jZSwgZnVsbE9wdGlvbnMsIGZyYW1lUHJvY2Vzc29yKTtcbiAgICAgICAgcmV0dXJuIHZhZDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IobW9kZWxGZXRjaGVyLCBvcnQsIG9wdGlvbnMsIGZyYW1lUHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMubW9kZWxGZXRjaGVyID0gbW9kZWxGZXRjaGVyO1xuICAgICAgICB0aGlzLm9ydCA9IG9ydDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5mcmFtZVByb2Nlc3NvciA9IGZyYW1lUHJvY2Vzc29yO1xuICAgICAgICB0aGlzLmZyYW1lU2FtcGxlcyA9IDE1MzY7XG4gICAgfVxuICAgIGFzeW5jICpydW4oaW5wdXRBdWRpbywgc2FtcGxlUmF0ZSkge1xuICAgICAgICBjb25zdCByZXNhbXBsZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgbmF0aXZlU2FtcGxlUmF0ZTogc2FtcGxlUmF0ZSxcbiAgICAgICAgICAgIHRhcmdldFNhbXBsZVJhdGU6IDE2MDAwLFxuICAgICAgICAgICAgdGFyZ2V0RnJhbWVTaXplOiB0aGlzLmZyYW1lU2FtcGxlcyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzYW1wbGVyID0gbmV3IHJlc2FtcGxlcl8xLlJlc2FtcGxlcihyZXNhbXBsZXJPcHRpb25zKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgbGV0IGVuZCA9IDA7XG4gICAgICAgIGxldCBmcmFtZUluZGV4ID0gMDtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBmcmFtZSBvZiByZXNhbXBsZXIuc3RyZWFtKGlucHV0QXVkaW8pKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlQ29udGFpbmVyID0gW107XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmZyYW1lUHJvY2Vzc29yLnByb2Nlc3MoZnJhbWUsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VDb250YWluZXIucHVzaChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgbWVzc2FnZUNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQubXNnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaFN0YXJ0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSAoZnJhbWVJbmRleCAqIHRoaXMuZnJhbWVTYW1wbGVzKSAvIDE2O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaEVuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9ICgoZnJhbWVJbmRleCArIDEpICogdGhpcy5mcmFtZVNhbXBsZXMpIC8gMTY7XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB7IGF1ZGlvOiBldmVudC5hdWRpbywgc3RhcnQsIGVuZCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVzc2FnZUNvbnRhaW5lciA9IFtdO1xuICAgICAgICB0aGlzLmZyYW1lUHJvY2Vzc29yLmVuZFNlZ21lbnQoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGFpbmVyLnB1c2goZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBtZXNzYWdlQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50Lm1zZykge1xuICAgICAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaEVuZDpcbiAgICAgICAgICAgICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IGV2ZW50LmF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IChmcmFtZUluZGV4ICogdGhpcy5mcmFtZVNhbXBsZXMpIC8gMTYsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLk5vblJlYWxUaW1lVkFEID0gTm9uUmVhbFRpbWVWQUQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub24tcmVhbC10aW1lLXZhZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/non-real-time-vad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/real-time-vad.js":
/*!***************************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/real-time-vad.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MicVAD = exports.getDefaultRealTimeVADOptions = exports.ort = exports.DEFAULT_MODEL = void 0;\nconst ortInstance = __importStar(__webpack_require__(/*! onnxruntime-web/wasm */ \"(ssr)/./node_modules/onnxruntime-web/dist/cjs/ort.wasm.min.js\"));\nconst default_model_fetcher_1 = __webpack_require__(/*! ./default-model-fetcher */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/default-model-fetcher.js\");\nconst frame_processor_1 = __webpack_require__(/*! ./frame-processor */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/frame-processor.js\");\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/logging.js\");\nconst messages_1 = __webpack_require__(/*! ./messages */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/messages.js\");\nconst models_1 = __webpack_require__(/*! ./models */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/models/index.js\");\nconst resampler_1 = __webpack_require__(/*! ./resampler */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/resampler.js\");\nexports.DEFAULT_MODEL = \"legacy\";\nexports.ort = ortInstance;\nconst workletFile = \"vad.worklet.bundle.min.js\";\nconst sileroV5File = \"silero_vad_v5.onnx\";\nconst sileroLegacyFile = \"silero_vad_legacy.onnx\";\nconst getDefaultRealTimeVADOptions = (model) => {\n    return {\n        ...frame_processor_1.defaultFrameProcessorOptions,\n        onFrameProcessed: () => { },\n        onVADMisfire: () => {\n            logging_1.log.debug(\"VAD misfire\");\n        },\n        onSpeechStart: () => {\n            logging_1.log.debug(\"Detected speech start\");\n        },\n        onSpeechEnd: () => {\n            logging_1.log.debug(\"Detected speech end\");\n        },\n        onSpeechRealStart: () => {\n            logging_1.log.debug(\"Detected real speech start\");\n        },\n        baseAssetPath: \"./\",\n        onnxWASMBasePath: \"./\",\n        model: model,\n        workletOptions: {},\n        getStream: async () => {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    channelCount: 1,\n                    echoCancellation: true,\n                    autoGainControl: true,\n                    noiseSuppression: true,\n                },\n            });\n            return stream;\n        },\n        pauseStream: async (_stream) => {\n            _stream.getTracks().forEach((track) => {\n                track.stop();\n            });\n        },\n        resumeStream: async () => {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: {\n                    channelCount: 1,\n                    echoCancellation: true,\n                    autoGainControl: true,\n                    noiseSuppression: true,\n                },\n            });\n            return stream;\n        },\n        ortConfig: (ort) => {\n            ort.env.logLevel = \"error\";\n        },\n        startOnLoad: true,\n        processorType: \"auto\",\n    };\n};\nexports.getDefaultRealTimeVADOptions = getDefaultRealTimeVADOptions;\nconst detectProcessorType = (ctx) => {\n    if (\"audioWorklet\" in ctx && typeof AudioWorkletNode === \"function\") {\n        return \"AudioWorklet\";\n    }\n    return \"ScriptProcessor\";\n};\nasync function getVADNodeAsWorklet(workletURL, workletOptions, audioContext, frameSamples, processFrame) {\n    await audioContext.audioWorklet.addModule(workletURL);\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    workletOptions.processorOptions = {\n        ...(workletOptions.processorOptions ?? {}),\n        frameSamples: frameSamples,\n    };\n    const audioNode = new AudioWorkletNode(audioContext, \"vad-helper-worklet\", workletOptions);\n    audioNode.port.onmessage = async (ev) => {\n        const data = ev.data;\n        if (!(typeof data === \"object\" && data && \"message\" in data)) {\n            console.error(\"Invalid message event\", data);\n            return;\n        }\n        switch (data.message) {\n            case messages_1.Message.AudioFrame: {\n                if (!(\"data\" in data && data.data instanceof ArrayBuffer)) {\n                    console.log(\"Audio frame message has no data\");\n                    return;\n                }\n                const frame = new Float32Array(data.data);\n                await processFrame(frame);\n                break;\n            }\n        }\n    };\n    return audioNode;\n}\nasync function getVADNodeAsScriptProcessor(audioContext, frameSamples, processFrame) {\n    const resampler = new resampler_1.Resampler({\n        nativeSampleRate: audioContext.sampleRate,\n        targetSampleRate: 16000,\n        targetFrameSize: frameSamples,\n    });\n    logging_1.log.debug(\"using script processor\");\n    // Fallback to ScriptProcessor\n    const bufferSize = 4096; // Increased for more stable processing\n    const audioNode = audioContext.createScriptProcessor(bufferSize, 1, 1);\n    let processingAudio = false;\n    audioNode.onaudioprocess = async (e) => {\n        if (processingAudio)\n            return;\n        processingAudio = true;\n        try {\n            const input = e.inputBuffer.getChannelData(0);\n            const output = e.outputBuffer.getChannelData(0);\n            output.fill(0);\n            // Process through resampler\n            const frames = resampler.process(input);\n            for (const frame of frames) {\n                await processFrame(frame);\n            }\n        }\n        catch (error) {\n            console.error(\"Error processing audio:\", error);\n        }\n        finally {\n            processingAudio = false;\n        }\n    };\n    // https://github.com/WebAudio/web-audio-api/issues/345\n    // -> we need to connect an output or will not work due to chrome bug\n    audioNode.connect(audioContext.destination);\n    return audioNode;\n}\nclass MicVAD {\n    constructor(options, frameProcessor, model, frameSamples, listening = false, errored = null, _stream = null, _audioContext = null, _vadNode = null, _mediaStreamAudioSourceNode = null, _audioProcessorAdapterType = null, initializationState = \"uninitialized\", ownsAudioContext = false) {\n        this.options = options;\n        this.frameProcessor = frameProcessor;\n        this.model = model;\n        this.frameSamples = frameSamples;\n        this.listening = listening;\n        this.errored = errored;\n        this._stream = _stream;\n        this._audioContext = _audioContext;\n        this._vadNode = _vadNode;\n        this._mediaStreamAudioSourceNode = _mediaStreamAudioSourceNode;\n        this._audioProcessorAdapterType = _audioProcessorAdapterType;\n        this.initializationState = initializationState;\n        this.ownsAudioContext = ownsAudioContext;\n        this.getAudioInstances = () => {\n            if (this._stream === null ||\n                this._audioContext === null ||\n                this._vadNode == null ||\n                this._mediaStreamAudioSourceNode == null) {\n                throw new Error(\"MicVAD has null stream, audio context, or processor adapter\");\n            }\n            return {\n                stream: this._stream,\n                audioContext: this._audioContext,\n                vadNode: this._vadNode,\n                mediaStreamAudioSourceNode: this._mediaStreamAudioSourceNode,\n            };\n        };\n        this.setErrored = (error) => {\n            this.initializationState = \"errored\";\n            this.errored = error;\n        };\n        this.start = async () => {\n            switch (this.initializationState) {\n                case \"uninitialized\": {\n                    logging_1.log.debug(\"initializing micVAD\");\n                    this.initializationState = \"initializing\";\n                    this.frameProcessor.resume();\n                    try {\n                        this._stream = await this.options.getStream();\n                    }\n                    catch (error) {\n                        if (error instanceof Error) {\n                            this.setErrored(error.message);\n                        }\n                        else {\n                            this.setErrored(String(error));\n                        }\n                        throw error;\n                    }\n                    if (this.options.audioContext) {\n                        console.log(\"using custom audio context\");\n                        this._audioContext = this.options.audioContext;\n                    }\n                    else {\n                        console.log(\"using default audio context\");\n                        this._audioContext = new AudioContext();\n                        this.ownsAudioContext = true;\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n                    if (!this._audioContext) {\n                        this.setErrored(\"Audio context is null\");\n                        throw Error(\"Audio context is null\");\n                    }\n                    this._audioProcessorAdapterType =\n                        this.options.processorType == \"auto\"\n                            ? detectProcessorType(this._audioContext)\n                            : this.options.processorType;\n                    switch (this._audioProcessorAdapterType) {\n                        case \"AudioWorklet\":\n                            {\n                                this._vadNode = await getVADNodeAsWorklet(this.options.baseAssetPath + workletFile, this.options.workletOptions, this._audioContext, this.frameSamples, this.processFrame);\n                            }\n                            break;\n                        case \"ScriptProcessor\":\n                            {\n                                this._vadNode = await getVADNodeAsScriptProcessor(this._audioContext, this.frameSamples, this.processFrame);\n                            }\n                            break;\n                        default: {\n                            throw new Error(\n                            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                            `Unsupported audio processor adapter type: ${this._audioProcessorAdapterType}`);\n                        }\n                    }\n                    this._mediaStreamAudioSourceNode = new MediaStreamAudioSourceNode(this._audioContext, {\n                        mediaStream: this._stream,\n                    });\n                    this._mediaStreamAudioSourceNode.connect(this._vadNode);\n                    logging_1.log.debug(\"started micVAD\");\n                    this.listening = true;\n                    this.initializationState = \"initialized\";\n                    break;\n                }\n                case \"initializing\": {\n                    logging_1.log.warn(\"start called while initializing\");\n                    break;\n                }\n                case \"initialized\": {\n                    if (this.listening) {\n                        return;\n                    }\n                    this.listening = true;\n                    this.frameProcessor.resume();\n                    const { stream, audioContext, vadNode } = this.getAudioInstances();\n                    this._stream = await this.options.resumeStream(stream);\n                    const mediaStreamAudioSourceNode = new MediaStreamAudioSourceNode(audioContext, { mediaStream: this._stream });\n                    this._mediaStreamAudioSourceNode = mediaStreamAudioSourceNode;\n                    mediaStreamAudioSourceNode.connect(vadNode);\n                    break;\n                }\n                case \"destroyed\": {\n                    logging_1.log.warn(\"start called after destroyed\");\n                    break;\n                }\n                case \"errored\": {\n                    logging_1.log.error(\"start called after errored\");\n                    break;\n                }\n                default: {\n                    logging_1.log.warn(\"weird initialization state\");\n                    break;\n                }\n            }\n        };\n        this.pause = async () => {\n            if (!this.listening) {\n                return;\n            }\n            this.listening = false;\n            const { stream, mediaStreamAudioSourceNode } = this.getAudioInstances();\n            await this.options.pauseStream(stream);\n            mediaStreamAudioSourceNode.disconnect();\n            this.frameProcessor.pause(this.handleFrameProcessorEvent);\n        };\n        this.destroy = async () => {\n            logging_1.log.debug(\"destroy called\");\n            this.initializationState = \"destroyed\";\n            const { vadNode } = this.getAudioInstances();\n            if (vadNode instanceof AudioWorkletNode) {\n                vadNode.port.postMessage(messages_1.Message.SpeechStop);\n            }\n            if (this.listening) {\n                await this.pause();\n            }\n            await this.model.release();\n            if (this.ownsAudioContext) {\n                await this._audioContext?.close();\n            }\n        };\n        this.setOptions = (update) => {\n            this.frameProcessor.setOptions(update);\n        };\n        this.processFrame = async (frame) => {\n            await this.frameProcessor.process(frame, this.handleFrameProcessorEvent);\n        };\n        this.handleFrameProcessorEvent = (ev) => {\n            switch (ev.msg) {\n                case messages_1.Message.FrameProcessed:\n                    void this.options.onFrameProcessed(ev.probs, ev.frame);\n                    break;\n                case messages_1.Message.SpeechStart:\n                    void this.options.onSpeechStart();\n                    break;\n                case messages_1.Message.SpeechRealStart:\n                    void this.options.onSpeechRealStart();\n                    break;\n                case messages_1.Message.VADMisfire:\n                    void this.options.onVADMisfire();\n                    break;\n                case messages_1.Message.SpeechEnd:\n                    void this.options.onSpeechEnd(ev.audio);\n                    break;\n            }\n        };\n    }\n    static async new(options = {}) {\n        const fullOptions = {\n            ...(0, exports.getDefaultRealTimeVADOptions)(options.model ?? exports.DEFAULT_MODEL),\n            ...options,\n        };\n        (0, frame_processor_1.validateOptions)(fullOptions);\n        exports.ort.env.wasm.wasmPaths = fullOptions.onnxWASMBasePath;\n        if (fullOptions.ortConfig !== undefined) {\n            fullOptions.ortConfig(exports.ort);\n        }\n        const modelFile = fullOptions.model === \"v5\" ? sileroV5File : sileroLegacyFile;\n        const modelURL = fullOptions.baseAssetPath + modelFile;\n        const modelFactory = fullOptions.model === \"v5\" ? models_1.SileroV5.new : models_1.SileroLegacy.new;\n        let model;\n        try {\n            model = await modelFactory(exports.ort, () => (0, default_model_fetcher_1.defaultModelFetcher)(modelURL));\n        }\n        catch (e) {\n            console.error(`Encountered an error while loading model file ${modelURL}`);\n            throw e;\n        }\n        const frameSamples = fullOptions.model === \"v5\" ? 512 : 1536;\n        const msPerFrame = frameSamples / 16;\n        const frameProcessor = new frame_processor_1.FrameProcessor(model.process, model.reset_state, {\n            positiveSpeechThreshold: fullOptions.positiveSpeechThreshold,\n            negativeSpeechThreshold: fullOptions.negativeSpeechThreshold,\n            redemptionMs: fullOptions.redemptionMs,\n            preSpeechPadMs: fullOptions.preSpeechPadMs,\n            minSpeechMs: fullOptions.minSpeechMs,\n            submitUserSpeechOnPause: fullOptions.submitUserSpeechOnPause,\n        }, msPerFrame);\n        const micVad = new MicVAD(fullOptions, frameProcessor, model, frameSamples);\n        // things would be simpler if we didn't have to startOnLoad by default, but we are locked in\n        if (fullOptions.startOnLoad) {\n            try {\n                await micVad.start();\n            }\n            catch (e) {\n                console.error(\"Error starting micVad\", e);\n                throw e;\n            }\n        }\n        return micVad;\n    }\n}\nexports.MicVAD = MicVAD;\n//# sourceMappingURL=real-time-vad.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvcmVhbC10aW1lLXZhZC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYyxHQUFHLG9DQUFvQyxHQUFHLFdBQVcsR0FBRyxxQkFBcUI7QUFDM0YsaUNBQWlDLG1CQUFPLENBQUMsMkZBQXNCO0FBQy9ELGdDQUFnQyxtQkFBTyxDQUFDLHNHQUF5QjtBQUNqRSwwQkFBMEIsbUJBQU8sQ0FBQywwRkFBbUI7QUFDckQsa0JBQWtCLG1CQUFPLENBQUMsMEVBQVc7QUFDckMsbUJBQW1CLG1CQUFPLENBQUMsNEVBQVk7QUFDdkMsaUJBQWlCLG1CQUFPLENBQUMsOEVBQVU7QUFDbkMsb0JBQW9CLG1CQUFPLENBQUMsOEVBQWE7QUFDekMscUJBQXFCO0FBQ3JCLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsZ0NBQWdDO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdDQUFnQztBQUM1RDtBQUNBLHNHQUFzRywyQkFBMkI7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQ0FBcUM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw4QkFBOEI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxTQUFTO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tlcnRob24tZnJvbnQvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvcmVhbC10aW1lLXZhZC5qcz81M2JhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1pY1ZBRCA9IGV4cG9ydHMuZ2V0RGVmYXVsdFJlYWxUaW1lVkFET3B0aW9ucyA9IGV4cG9ydHMub3J0ID0gZXhwb3J0cy5ERUZBVUxUX01PREVMID0gdm9pZCAwO1xuY29uc3Qgb3J0SW5zdGFuY2UgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIm9ubnhydW50aW1lLXdlYi93YXNtXCIpKTtcbmNvbnN0IGRlZmF1bHRfbW9kZWxfZmV0Y2hlcl8xID0gcmVxdWlyZShcIi4vZGVmYXVsdC1tb2RlbC1mZXRjaGVyXCIpO1xuY29uc3QgZnJhbWVfcHJvY2Vzc29yXzEgPSByZXF1aXJlKFwiLi9mcmFtZS1wcm9jZXNzb3JcIik7XG5jb25zdCBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgbWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuL21lc3NhZ2VzXCIpO1xuY29uc3QgbW9kZWxzXzEgPSByZXF1aXJlKFwiLi9tb2RlbHNcIik7XG5jb25zdCByZXNhbXBsZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc2FtcGxlclwiKTtcbmV4cG9ydHMuREVGQVVMVF9NT0RFTCA9IFwibGVnYWN5XCI7XG5leHBvcnRzLm9ydCA9IG9ydEluc3RhbmNlO1xuY29uc3Qgd29ya2xldEZpbGUgPSBcInZhZC53b3JrbGV0LmJ1bmRsZS5taW4uanNcIjtcbmNvbnN0IHNpbGVyb1Y1RmlsZSA9IFwic2lsZXJvX3ZhZF92NS5vbm54XCI7XG5jb25zdCBzaWxlcm9MZWdhY3lGaWxlID0gXCJzaWxlcm9fdmFkX2xlZ2FjeS5vbm54XCI7XG5jb25zdCBnZXREZWZhdWx0UmVhbFRpbWVWQURPcHRpb25zID0gKG1vZGVsKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZnJhbWVfcHJvY2Vzc29yXzEuZGVmYXVsdEZyYW1lUHJvY2Vzc29yT3B0aW9ucyxcbiAgICAgICAgb25GcmFtZVByb2Nlc3NlZDogKCkgPT4geyB9LFxuICAgICAgICBvblZBRE1pc2ZpcmU6ICgpID0+IHtcbiAgICAgICAgICAgIGxvZ2dpbmdfMS5sb2cuZGVidWcoXCJWQUQgbWlzZmlyZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TcGVlY2hTdGFydDogKCkgPT4ge1xuICAgICAgICAgICAgbG9nZ2luZ18xLmxvZy5kZWJ1ZyhcIkRldGVjdGVkIHNwZWVjaCBzdGFydFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TcGVlY2hFbmQ6ICgpID0+IHtcbiAgICAgICAgICAgIGxvZ2dpbmdfMS5sb2cuZGVidWcoXCJEZXRlY3RlZCBzcGVlY2ggZW5kXCIpO1xuICAgICAgICB9LFxuICAgICAgICBvblNwZWVjaFJlYWxTdGFydDogKCkgPT4ge1xuICAgICAgICAgICAgbG9nZ2luZ18xLmxvZy5kZWJ1ZyhcIkRldGVjdGVkIHJlYWwgc3BlZWNoIHN0YXJ0XCIpO1xuICAgICAgICB9LFxuICAgICAgICBiYXNlQXNzZXRQYXRoOiBcIi4vXCIsXG4gICAgICAgIG9ubnhXQVNNQmFzZVBhdGg6IFwiLi9cIixcbiAgICAgICAgbW9kZWw6IG1vZGVsLFxuICAgICAgICB3b3JrbGV0T3B0aW9uczoge30sXG4gICAgICAgIGdldFN0cmVhbTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgIGF1ZGlvOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgZWNob0NhbmNlbGxhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0dhaW5Db250cm9sOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBub2lzZVN1cHByZXNzaW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICAgIH0sXG4gICAgICAgIHBhdXNlU3RyZWFtOiBhc3luYyAoX3N0cmVhbSkgPT4ge1xuICAgICAgICAgICAgX3N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZXN1bWVTdHJlYW06IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICAgICAgICBhdWRpbzoge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGVjaG9DYW5jZWxsYXRpb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9HYWluQ29udHJvbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgICAgICB9LFxuICAgICAgICBvcnRDb25maWc6IChvcnQpID0+IHtcbiAgICAgICAgICAgIG9ydC5lbnYubG9nTGV2ZWwgPSBcImVycm9yXCI7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0T25Mb2FkOiB0cnVlLFxuICAgICAgICBwcm9jZXNzb3JUeXBlOiBcImF1dG9cIixcbiAgICB9O1xufTtcbmV4cG9ydHMuZ2V0RGVmYXVsdFJlYWxUaW1lVkFET3B0aW9ucyA9IGdldERlZmF1bHRSZWFsVGltZVZBRE9wdGlvbnM7XG5jb25zdCBkZXRlY3RQcm9jZXNzb3JUeXBlID0gKGN0eCkgPT4ge1xuICAgIGlmIChcImF1ZGlvV29ya2xldFwiIGluIGN0eCAmJiB0eXBlb2YgQXVkaW9Xb3JrbGV0Tm9kZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBcIkF1ZGlvV29ya2xldFwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJTY3JpcHRQcm9jZXNzb3JcIjtcbn07XG5hc3luYyBmdW5jdGlvbiBnZXRWQUROb2RlQXNXb3JrbGV0KHdvcmtsZXRVUkwsIHdvcmtsZXRPcHRpb25zLCBhdWRpb0NvbnRleHQsIGZyYW1lU2FtcGxlcywgcHJvY2Vzc0ZyYW1lKSB7XG4gICAgYXdhaXQgYXVkaW9Db250ZXh0LmF1ZGlvV29ya2xldC5hZGRNb2R1bGUod29ya2xldFVSTCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgIHdvcmtsZXRPcHRpb25zLnByb2Nlc3Nvck9wdGlvbnMgPSB7XG4gICAgICAgIC4uLih3b3JrbGV0T3B0aW9ucy5wcm9jZXNzb3JPcHRpb25zID8/IHt9KSxcbiAgICAgICAgZnJhbWVTYW1wbGVzOiBmcmFtZVNhbXBsZXMsXG4gICAgfTtcbiAgICBjb25zdCBhdWRpb05vZGUgPSBuZXcgQXVkaW9Xb3JrbGV0Tm9kZShhdWRpb0NvbnRleHQsIFwidmFkLWhlbHBlci13b3JrbGV0XCIsIHdvcmtsZXRPcHRpb25zKTtcbiAgICBhdWRpb05vZGUucG9ydC5vbm1lc3NhZ2UgPSBhc3luYyAoZXYpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGV2LmRhdGE7XG4gICAgICAgIGlmICghKHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIGRhdGEgJiYgXCJtZXNzYWdlXCIgaW4gZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2UgZXZlbnRcIiwgZGF0YSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChkYXRhLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5NZXNzYWdlLkF1ZGlvRnJhbWU6IHtcbiAgICAgICAgICAgICAgICBpZiAoIShcImRhdGFcIiBpbiBkYXRhICYmIGRhdGEuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGZyYW1lIG1lc3NhZ2UgaGFzIG5vIGRhdGFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc0ZyYW1lKGZyYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGF1ZGlvTm9kZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFZBRE5vZGVBc1NjcmlwdFByb2Nlc3NvcihhdWRpb0NvbnRleHQsIGZyYW1lU2FtcGxlcywgcHJvY2Vzc0ZyYW1lKSB7XG4gICAgY29uc3QgcmVzYW1wbGVyID0gbmV3IHJlc2FtcGxlcl8xLlJlc2FtcGxlcih7XG4gICAgICAgIG5hdGl2ZVNhbXBsZVJhdGU6IGF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlLFxuICAgICAgICB0YXJnZXRTYW1wbGVSYXRlOiAxNjAwMCxcbiAgICAgICAgdGFyZ2V0RnJhbWVTaXplOiBmcmFtZVNhbXBsZXMsXG4gICAgfSk7XG4gICAgbG9nZ2luZ18xLmxvZy5kZWJ1ZyhcInVzaW5nIHNjcmlwdCBwcm9jZXNzb3JcIik7XG4gICAgLy8gRmFsbGJhY2sgdG8gU2NyaXB0UHJvY2Vzc29yXG4gICAgY29uc3QgYnVmZmVyU2l6ZSA9IDQwOTY7IC8vIEluY3JlYXNlZCBmb3IgbW9yZSBzdGFibGUgcHJvY2Vzc2luZ1xuICAgIGNvbnN0IGF1ZGlvTm9kZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IoYnVmZmVyU2l6ZSwgMSwgMSk7XG4gICAgbGV0IHByb2Nlc3NpbmdBdWRpbyA9IGZhbHNlO1xuICAgIGF1ZGlvTm9kZS5vbmF1ZGlvcHJvY2VzcyA9IGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChwcm9jZXNzaW5nQXVkaW8pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHByb2Nlc3NpbmdBdWRpbyA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGUuaW5wdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBlLm91dHB1dEJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTtcbiAgICAgICAgICAgIG91dHB1dC5maWxsKDApO1xuICAgICAgICAgICAgLy8gUHJvY2VzcyB0aHJvdWdoIHJlc2FtcGxlclxuICAgICAgICAgICAgY29uc3QgZnJhbWVzID0gcmVzYW1wbGVyLnByb2Nlc3MoaW5wdXQpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBmcmFtZSBvZiBmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBwcm9jZXNzRnJhbWUoZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgYXVkaW86XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHByb2Nlc3NpbmdBdWRpbyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vV2ViQXVkaW8vd2ViLWF1ZGlvLWFwaS9pc3N1ZXMvMzQ1XG4gICAgLy8gLT4gd2UgbmVlZCB0byBjb25uZWN0IGFuIG91dHB1dCBvciB3aWxsIG5vdCB3b3JrIGR1ZSB0byBjaHJvbWUgYnVnXG4gICAgYXVkaW9Ob2RlLmNvbm5lY3QoYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gYXVkaW9Ob2RlO1xufVxuY2xhc3MgTWljVkFEIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBmcmFtZVByb2Nlc3NvciwgbW9kZWwsIGZyYW1lU2FtcGxlcywgbGlzdGVuaW5nID0gZmFsc2UsIGVycm9yZWQgPSBudWxsLCBfc3RyZWFtID0gbnVsbCwgX2F1ZGlvQ29udGV4dCA9IG51bGwsIF92YWROb2RlID0gbnVsbCwgX21lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlID0gbnVsbCwgX2F1ZGlvUHJvY2Vzc29yQWRhcHRlclR5cGUgPSBudWxsLCBpbml0aWFsaXphdGlvblN0YXRlID0gXCJ1bmluaXRpYWxpemVkXCIsIG93bnNBdWRpb0NvbnRleHQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmZyYW1lUHJvY2Vzc29yID0gZnJhbWVQcm9jZXNzb3I7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy5mcmFtZVNhbXBsZXMgPSBmcmFtZVNhbXBsZXM7XG4gICAgICAgIHRoaXMubGlzdGVuaW5nID0gbGlzdGVuaW5nO1xuICAgICAgICB0aGlzLmVycm9yZWQgPSBlcnJvcmVkO1xuICAgICAgICB0aGlzLl9zdHJlYW0gPSBfc3RyZWFtO1xuICAgICAgICB0aGlzLl9hdWRpb0NvbnRleHQgPSBfYXVkaW9Db250ZXh0O1xuICAgICAgICB0aGlzLl92YWROb2RlID0gX3ZhZE5vZGU7XG4gICAgICAgIHRoaXMuX21lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlID0gX21lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlO1xuICAgICAgICB0aGlzLl9hdWRpb1Byb2Nlc3NvckFkYXB0ZXJUeXBlID0gX2F1ZGlvUHJvY2Vzc29yQWRhcHRlclR5cGU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0ZSA9IGluaXRpYWxpemF0aW9uU3RhdGU7XG4gICAgICAgIHRoaXMub3duc0F1ZGlvQ29udGV4dCA9IG93bnNBdWRpb0NvbnRleHQ7XG4gICAgICAgIHRoaXMuZ2V0QXVkaW9JbnN0YW5jZXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3RyZWFtID09PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9Db250ZXh0ID09PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5fdmFkTm9kZSA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pY1ZBRCBoYXMgbnVsbCBzdHJlYW0sIGF1ZGlvIGNvbnRleHQsIG9yIHByb2Nlc3NvciBhZGFwdGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdHJlYW06IHRoaXMuX3N0cmVhbSxcbiAgICAgICAgICAgICAgICBhdWRpb0NvbnRleHQ6IHRoaXMuX2F1ZGlvQ29udGV4dCxcbiAgICAgICAgICAgICAgICB2YWROb2RlOiB0aGlzLl92YWROb2RlLFxuICAgICAgICAgICAgICAgIG1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlOiB0aGlzLl9tZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0RXJyb3JlZCA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXphdGlvblN0YXRlID0gXCJlcnJvcmVkXCI7XG4gICAgICAgICAgICB0aGlzLmVycm9yZWQgPSBlcnJvcjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5pbml0aWFsaXphdGlvblN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuaW5pdGlhbGl6ZWRcIjoge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nXzEubG9nLmRlYnVnKFwiaW5pdGlhbGl6aW5nIG1pY1ZBRFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXphdGlvblN0YXRlID0gXCJpbml0aWFsaXppbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZVByb2Nlc3Nvci5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0cmVhbSA9IGF3YWl0IHRoaXMub3B0aW9ucy5nZXRTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvcmVkKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvcmVkKFN0cmluZyhlcnJvcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNpbmcgY3VzdG9tIGF1ZGlvIGNvbnRleHRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0NvbnRleHQgPSB0aGlzLm9wdGlvbnMuYXVkaW9Db250ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1c2luZyBkZWZhdWx0IGF1ZGlvIGNvbnRleHRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm93bnNBdWRpb0NvbnRleHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktY29uZGl0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVycm9yZWQoXCJBdWRpbyBjb250ZXh0IGlzIG51bGxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkF1ZGlvIGNvbnRleHQgaXMgbnVsbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb1Byb2Nlc3NvckFkYXB0ZXJUeXBlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wcm9jZXNzb3JUeXBlID09IFwiYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkZXRlY3RQcm9jZXNzb3JUeXBlKHRoaXMuX2F1ZGlvQ29udGV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMub3B0aW9ucy5wcm9jZXNzb3JUeXBlO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX2F1ZGlvUHJvY2Vzc29yQWRhcHRlclR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBdWRpb1dvcmtsZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhZE5vZGUgPSBhd2FpdCBnZXRWQUROb2RlQXNXb3JrbGV0KHRoaXMub3B0aW9ucy5iYXNlQXNzZXRQYXRoICsgd29ya2xldEZpbGUsIHRoaXMub3B0aW9ucy53b3JrbGV0T3B0aW9ucywgdGhpcy5fYXVkaW9Db250ZXh0LCB0aGlzLmZyYW1lU2FtcGxlcywgdGhpcy5wcm9jZXNzRnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTY3JpcHRQcm9jZXNzb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhZE5vZGUgPSBhd2FpdCBnZXRWQUROb2RlQXNTY3JpcHRQcm9jZXNzb3IodGhpcy5fYXVkaW9Db250ZXh0LCB0aGlzLmZyYW1lU2FtcGxlcywgdGhpcy5wcm9jZXNzRnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbnN1cHBvcnRlZCBhdWRpbyBwcm9jZXNzb3IgYWRhcHRlciB0eXBlOiAke3RoaXMuX2F1ZGlvUHJvY2Vzc29yQWRhcHRlclR5cGV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgPSBuZXcgTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUodGhpcy5fYXVkaW9Db250ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZWRpYVN0cmVhbTogdGhpcy5fc3RyZWFtLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUuY29ubmVjdCh0aGlzLl92YWROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ18xLmxvZy5kZWJ1ZyhcInN0YXJ0ZWQgbWljVkFEXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0ZSA9IFwiaW5pdGlhbGl6ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJpbml0aWFsaXppbmdcIjoge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nXzEubG9nLndhcm4oXCJzdGFydCBjYWxsZWQgd2hpbGUgaW5pdGlhbGl6aW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImluaXRpYWxpemVkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lUHJvY2Vzc29yLnJlc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHN0cmVhbSwgYXVkaW9Db250ZXh0LCB2YWROb2RlIH0gPSB0aGlzLmdldEF1ZGlvSW5zdGFuY2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0cmVhbSA9IGF3YWl0IHRoaXMub3B0aW9ucy5yZXN1bWVTdHJlYW0oc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgPSBuZXcgTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUoYXVkaW9Db250ZXh0LCB7IG1lZGlhU3RyZWFtOiB0aGlzLl9zdHJlYW0gfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlID0gbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGU7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlLmNvbm5lY3QodmFkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVzdHJveWVkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ18xLmxvZy53YXJuKFwic3RhcnQgY2FsbGVkIGFmdGVyIGRlc3Ryb3llZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvcmVkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ18xLmxvZy5lcnJvcihcInN0YXJ0IGNhbGxlZCBhZnRlciBlcnJvcmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nXzEubG9nLndhcm4oXCJ3ZWlyZCBpbml0aWFsaXphdGlvbiBzdGF0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBhdXNlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCB7IHN0cmVhbSwgbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUgfSA9IHRoaXMuZ2V0QXVkaW9JbnN0YW5jZXMoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMub3B0aW9ucy5wYXVzZVN0cmVhbShzdHJlYW0pO1xuICAgICAgICAgICAgbWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGUuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5mcmFtZVByb2Nlc3Nvci5wYXVzZSh0aGlzLmhhbmRsZUZyYW1lUHJvY2Vzc29yRXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlc3Ryb3kgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsb2dnaW5nXzEubG9nLmRlYnVnKFwiZGVzdHJveSBjYWxsZWRcIik7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemF0aW9uU3RhdGUgPSBcImRlc3Ryb3llZFwiO1xuICAgICAgICAgICAgY29uc3QgeyB2YWROb2RlIH0gPSB0aGlzLmdldEF1ZGlvSW5zdGFuY2VzKCk7XG4gICAgICAgICAgICBpZiAodmFkTm9kZSBpbnN0YW5jZW9mIEF1ZGlvV29ya2xldE5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YWROb2RlLnBvcnQucG9zdE1lc3NhZ2UobWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaFN0b3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5tb2RlbC5yZWxlYXNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vd25zQXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fYXVkaW9Db250ZXh0Py5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldE9wdGlvbnMgPSAodXBkYXRlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lUHJvY2Vzc29yLnNldE9wdGlvbnModXBkYXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wcm9jZXNzRnJhbWUgPSBhc3luYyAoZnJhbWUpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZnJhbWVQcm9jZXNzb3IucHJvY2VzcyhmcmFtZSwgdGhpcy5oYW5kbGVGcmFtZVByb2Nlc3NvckV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVGcmFtZVByb2Nlc3NvckV2ZW50ID0gKGV2KSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGV2Lm1zZykge1xuICAgICAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5NZXNzYWdlLkZyYW1lUHJvY2Vzc2VkOlxuICAgICAgICAgICAgICAgICAgICB2b2lkIHRoaXMub3B0aW9ucy5vbkZyYW1lUHJvY2Vzc2VkKGV2LnByb2JzLCBldi5mcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaFN0YXJ0OlxuICAgICAgICAgICAgICAgICAgICB2b2lkIHRoaXMub3B0aW9ucy5vblNwZWVjaFN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaFJlYWxTdGFydDpcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLm9wdGlvbnMub25TcGVlY2hSZWFsU3RhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBtZXNzYWdlc18xLk1lc3NhZ2UuVkFETWlzZmlyZTpcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLm9wdGlvbnMub25WQURNaXNmaXJlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgbWVzc2FnZXNfMS5NZXNzYWdlLlNwZWVjaEVuZDpcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLm9wdGlvbnMub25TcGVlY2hFbmQoZXYuYXVkaW8pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIG5ldyhvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgZnVsbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi4oMCwgZXhwb3J0cy5nZXREZWZhdWx0UmVhbFRpbWVWQURPcHRpb25zKShvcHRpb25zLm1vZGVsID8/IGV4cG9ydHMuREVGQVVMVF9NT0RFTCksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICAoMCwgZnJhbWVfcHJvY2Vzc29yXzEudmFsaWRhdGVPcHRpb25zKShmdWxsT3B0aW9ucyk7XG4gICAgICAgIGV4cG9ydHMub3J0LmVudi53YXNtLndhc21QYXRocyA9IGZ1bGxPcHRpb25zLm9ubnhXQVNNQmFzZVBhdGg7XG4gICAgICAgIGlmIChmdWxsT3B0aW9ucy5vcnRDb25maWcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZnVsbE9wdGlvbnMub3J0Q29uZmlnKGV4cG9ydHMub3J0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2RlbEZpbGUgPSBmdWxsT3B0aW9ucy5tb2RlbCA9PT0gXCJ2NVwiID8gc2lsZXJvVjVGaWxlIDogc2lsZXJvTGVnYWN5RmlsZTtcbiAgICAgICAgY29uc3QgbW9kZWxVUkwgPSBmdWxsT3B0aW9ucy5iYXNlQXNzZXRQYXRoICsgbW9kZWxGaWxlO1xuICAgICAgICBjb25zdCBtb2RlbEZhY3RvcnkgPSBmdWxsT3B0aW9ucy5tb2RlbCA9PT0gXCJ2NVwiID8gbW9kZWxzXzEuU2lsZXJvVjUubmV3IDogbW9kZWxzXzEuU2lsZXJvTGVnYWN5Lm5ldztcbiAgICAgICAgbGV0IG1vZGVsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbW9kZWwgPSBhd2FpdCBtb2RlbEZhY3RvcnkoZXhwb3J0cy5vcnQsICgpID0+ICgwLCBkZWZhdWx0X21vZGVsX2ZldGNoZXJfMS5kZWZhdWx0TW9kZWxGZXRjaGVyKShtb2RlbFVSTCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBsb2FkaW5nIG1vZGVsIGZpbGUgJHttb2RlbFVSTH1gKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJhbWVTYW1wbGVzID0gZnVsbE9wdGlvbnMubW9kZWwgPT09IFwidjVcIiA/IDUxMiA6IDE1MzY7XG4gICAgICAgIGNvbnN0IG1zUGVyRnJhbWUgPSBmcmFtZVNhbXBsZXMgLyAxNjtcbiAgICAgICAgY29uc3QgZnJhbWVQcm9jZXNzb3IgPSBuZXcgZnJhbWVfcHJvY2Vzc29yXzEuRnJhbWVQcm9jZXNzb3IobW9kZWwucHJvY2VzcywgbW9kZWwucmVzZXRfc3RhdGUsIHtcbiAgICAgICAgICAgIHBvc2l0aXZlU3BlZWNoVGhyZXNob2xkOiBmdWxsT3B0aW9ucy5wb3NpdGl2ZVNwZWVjaFRocmVzaG9sZCxcbiAgICAgICAgICAgIG5lZ2F0aXZlU3BlZWNoVGhyZXNob2xkOiBmdWxsT3B0aW9ucy5uZWdhdGl2ZVNwZWVjaFRocmVzaG9sZCxcbiAgICAgICAgICAgIHJlZGVtcHRpb25NczogZnVsbE9wdGlvbnMucmVkZW1wdGlvbk1zLFxuICAgICAgICAgICAgcHJlU3BlZWNoUGFkTXM6IGZ1bGxPcHRpb25zLnByZVNwZWVjaFBhZE1zLFxuICAgICAgICAgICAgbWluU3BlZWNoTXM6IGZ1bGxPcHRpb25zLm1pblNwZWVjaE1zLFxuICAgICAgICAgICAgc3VibWl0VXNlclNwZWVjaE9uUGF1c2U6IGZ1bGxPcHRpb25zLnN1Ym1pdFVzZXJTcGVlY2hPblBhdXNlLFxuICAgICAgICB9LCBtc1BlckZyYW1lKTtcbiAgICAgICAgY29uc3QgbWljVmFkID0gbmV3IE1pY1ZBRChmdWxsT3B0aW9ucywgZnJhbWVQcm9jZXNzb3IsIG1vZGVsLCBmcmFtZVNhbXBsZXMpO1xuICAgICAgICAvLyB0aGluZ3Mgd291bGQgYmUgc2ltcGxlciBpZiB3ZSBkaWRuJ3QgaGF2ZSB0byBzdGFydE9uTG9hZCBieSBkZWZhdWx0LCBidXQgd2UgYXJlIGxvY2tlZCBpblxuICAgICAgICBpZiAoZnVsbE9wdGlvbnMuc3RhcnRPbkxvYWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgbWljVmFkLnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzdGFydGluZyBtaWNWYWRcIiwgZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWljVmFkO1xuICAgIH1cbn1cbmV4cG9ydHMuTWljVkFEID0gTWljVkFEO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhbC10aW1lLXZhZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/real-time-vad.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/resampler.js":
/*!***********************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/resampler.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Resampler = void 0;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(ssr)/./node_modules/@ricky0123/vad-web/dist/logging.js\");\nclass Resampler {\n    constructor(options) {\n        this.options = options;\n        this.process = (audioFrame) => {\n            const outputFrames = [];\n            for (const sample of audioFrame) {\n                this.inputBuffer.push(sample);\n                while (this.hasEnoughDataForFrame()) {\n                    const outputFrame = this.generateOutputFrame();\n                    outputFrames.push(outputFrame);\n                }\n            }\n            return outputFrames;\n        };\n        if (options.nativeSampleRate < 16000) {\n            logging_1.log.error(\"nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate\");\n        }\n        this.inputBuffer = [];\n    }\n    async *stream(audioInput) {\n        for (const sample of audioInput) {\n            this.inputBuffer.push(sample);\n            while (this.hasEnoughDataForFrame()) {\n                const outputFrame = this.generateOutputFrame();\n                yield outputFrame;\n            }\n        }\n    }\n    hasEnoughDataForFrame() {\n        return ((this.inputBuffer.length * this.options.targetSampleRate) /\n            this.options.nativeSampleRate >=\n            this.options.targetFrameSize);\n    }\n    generateOutputFrame() {\n        const outputFrame = new Float32Array(this.options.targetFrameSize);\n        let outputIndex = 0;\n        let inputIndex = 0;\n        while (outputIndex < this.options.targetFrameSize) {\n            let sum = 0;\n            let num = 0;\n            while (inputIndex <\n                Math.min(this.inputBuffer.length, ((outputIndex + 1) * this.options.nativeSampleRate) /\n                    this.options.targetSampleRate)) {\n                const value = this.inputBuffer[inputIndex];\n                if (value !== undefined) {\n                    sum += value;\n                    num++;\n                }\n                inputIndex++;\n            }\n            outputFrame[outputIndex] = sum / num;\n            outputIndex++;\n        }\n        this.inputBuffer = this.inputBuffer.slice(inputIndex);\n        return outputFrame;\n    }\n}\nexports.Resampler = Resampler;\n//# sourceMappingURL=resampler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvcmVzYW1wbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixrQkFBa0IsbUJBQU8sQ0FBQywwRUFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZXJ0aG9uLWZyb250Ly4vbm9kZV9tb2R1bGVzL0ByaWNreTAxMjMvdmFkLXdlYi9kaXN0L3Jlc2FtcGxlci5qcz80Y2I5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXNhbXBsZXIgPSB2b2lkIDA7XG5jb25zdCBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY2xhc3MgUmVzYW1wbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucHJvY2VzcyA9IChhdWRpb0ZyYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRGcmFtZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2FtcGxlIG9mIGF1ZGlvRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0QnVmZmVyLnB1c2goc2FtcGxlKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5oYXNFbm91Z2hEYXRhRm9yRnJhbWUoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRGcmFtZSA9IHRoaXMuZ2VuZXJhdGVPdXRwdXRGcmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRGcmFtZXMucHVzaChvdXRwdXRGcmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dEZyYW1lcztcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdGlvbnMubmF0aXZlU2FtcGxlUmF0ZSA8IDE2MDAwKSB7XG4gICAgICAgICAgICBsb2dnaW5nXzEubG9nLmVycm9yKFwibmF0aXZlU2FtcGxlUmF0ZSBpcyB0b28gbG93LiBTaG91bGQgaGF2ZSAxNjAwMCA9IHRhcmdldFNhbXBsZVJhdGUgPD0gbmF0aXZlU2FtcGxlUmF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0QnVmZmVyID0gW107XG4gICAgfVxuICAgIGFzeW5jICpzdHJlYW0oYXVkaW9JbnB1dCkge1xuICAgICAgICBmb3IgKGNvbnN0IHNhbXBsZSBvZiBhdWRpb0lucHV0KSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0QnVmZmVyLnB1c2goc2FtcGxlKTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmhhc0Vub3VnaERhdGFGb3JGcmFtZSgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0RnJhbWUgPSB0aGlzLmdlbmVyYXRlT3V0cHV0RnJhbWUoKTtcbiAgICAgICAgICAgICAgICB5aWVsZCBvdXRwdXRGcmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNFbm91Z2hEYXRhRm9yRnJhbWUoKSB7XG4gICAgICAgIHJldHVybiAoKHRoaXMuaW5wdXRCdWZmZXIubGVuZ3RoICogdGhpcy5vcHRpb25zLnRhcmdldFNhbXBsZVJhdGUpIC9cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5uYXRpdmVTYW1wbGVSYXRlID49XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGFyZ2V0RnJhbWVTaXplKTtcbiAgICB9XG4gICAgZ2VuZXJhdGVPdXRwdXRGcmFtZSgpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0RnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMub3B0aW9ucy50YXJnZXRGcmFtZVNpemUpO1xuICAgICAgICBsZXQgb3V0cHV0SW5kZXggPSAwO1xuICAgICAgICBsZXQgaW5wdXRJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlIChvdXRwdXRJbmRleCA8IHRoaXMub3B0aW9ucy50YXJnZXRGcmFtZVNpemUpIHtcbiAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgbGV0IG51bSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaW5wdXRJbmRleCA8XG4gICAgICAgICAgICAgICAgTWF0aC5taW4odGhpcy5pbnB1dEJ1ZmZlci5sZW5ndGgsICgob3V0cHV0SW5kZXggKyAxKSAqIHRoaXMub3B0aW9ucy5uYXRpdmVTYW1wbGVSYXRlKSAvXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy50YXJnZXRTYW1wbGVSYXRlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5pbnB1dEJ1ZmZlcltpbnB1dEluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzdW0gKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG51bSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnB1dEluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXRGcmFtZVtvdXRwdXRJbmRleF0gPSBzdW0gLyBudW07XG4gICAgICAgICAgICBvdXRwdXRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5wdXRCdWZmZXIgPSB0aGlzLmlucHV0QnVmZmVyLnNsaWNlKGlucHV0SW5kZXgpO1xuICAgICAgICByZXR1cm4gb3V0cHV0RnJhbWU7XG4gICAgfVxufVxuZXhwb3J0cy5SZXNhbXBsZXIgPSBSZXNhbXBsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNhbXBsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/resampler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@ricky0123/vad-web/dist/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/@ricky0123/vad-web/dist/utils.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.audioFileToArray = exports.encodeWAV = exports.arrayBufferToBase64 = exports.minFramesForTargetMS = void 0;\nfunction minFramesForTargetMS(targetDuration, frameSamples, sr = 16000) {\n    return Math.ceil((targetDuration * sr) / 1000 / frameSamples);\n}\nexports.minFramesForTargetMS = minFramesForTargetMS;\nfunction arrayBufferToBase64(buffer) {\n    const bytes = new Uint8Array(buffer);\n    const len = bytes.byteLength;\n    const binary = new Array(len);\n    for (let i = 0; i < len; i++) {\n        const byte = bytes[i];\n        if (byte === undefined) {\n            break;\n        }\n        binary[i] = String.fromCharCode(byte);\n    }\n    return btoa(binary.join(\"\"));\n}\nexports.arrayBufferToBase64 = arrayBufferToBase64;\n/*\nThis rest of this was mostly copied from https://github.com/linto-ai/WebVoiceSDK\n*/\nfunction encodeWAV(samples, format = 3, sampleRate = 16000, numChannels = 1, bitDepth = 32) {\n    const bytesPerSample = bitDepth / 8;\n    const blockAlign = numChannels * bytesPerSample;\n    const buffer = new ArrayBuffer(44 + samples.length * bytesPerSample);\n    const view = new DataView(buffer);\n    /* RIFF identifier */\n    writeString(view, 0, \"RIFF\");\n    /* RIFF chunk length */\n    view.setUint32(4, 36 + samples.length * bytesPerSample, true);\n    /* RIFF type */\n    writeString(view, 8, \"WAVE\");\n    /* format chunk identifier */\n    writeString(view, 12, \"fmt \");\n    /* format chunk length */\n    view.setUint32(16, 16, true);\n    /* sample format (raw) */\n    view.setUint16(20, format, true);\n    /* channel count */\n    view.setUint16(22, numChannels, true);\n    /* sample rate */\n    view.setUint32(24, sampleRate, true);\n    /* byte rate (sample rate * block align) */\n    view.setUint32(28, sampleRate * blockAlign, true);\n    /* block align (channel count * bytes per sample) */\n    view.setUint16(32, blockAlign, true);\n    /* bits per sample */\n    view.setUint16(34, bitDepth, true);\n    /* data chunk identifier */\n    writeString(view, 36, \"data\");\n    /* data chunk length */\n    view.setUint32(40, samples.length * bytesPerSample, true);\n    if (format === 1) {\n        // Raw PCM\n        floatTo16BitPCM(view, 44, samples);\n    }\n    else {\n        writeFloat32(view, 44, samples);\n    }\n    return buffer;\n}\nexports.encodeWAV = encodeWAV;\nfunction writeFloat32(output, offset, input) {\n    for (let i = 0; i < input.length; i++, offset += 4) {\n        output.setFloat32(offset, input[i], true);\n    }\n}\nfunction floatTo16BitPCM(output, offset, input) {\n    for (let i = 0; i < input.length; i++, offset += 2) {\n        const s = Math.max(-1, Math.min(1, input[i]));\n        output.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n}\nfunction writeString(view, offset, string) {\n    for (let i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n    }\n}\nasync function audioFileToArray(audioFileData) {\n    const ctx = new OfflineAudioContext(1, 1, 44100);\n    const reader = new FileReader();\n    let audioBuffer = null;\n    await new Promise((res) => {\n        reader.addEventListener(\"loadend\", () => {\n            const audioData = reader.result;\n            void ctx.decodeAudioData(audioData, (buffer) => {\n                audioBuffer = buffer;\n                ctx\n                    .startRendering()\n                    .then(() => {\n                    console.log(\"Rendering completed successfully\");\n                    res();\n                })\n                    .catch((err) => {\n                    console.error(\"Rendering failed: \", err);\n                });\n            }, (e) => {\n                console.log(\"Error with decoding audio data: \", e);\n            });\n        });\n        reader.readAsArrayBuffer(audioFileData);\n    });\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (audioBuffer === null) {\n        throw Error(\"some shit\");\n    }\n    const _audioBuffer = audioBuffer;\n    const out = new Float32Array(_audioBuffer.length);\n    for (let i = 0; i < _audioBuffer.length; i++) {\n        for (let j = 0; j < _audioBuffer.numberOfChannels; j++) {\n            const sample = _audioBuffer.getChannelData(j)[i];\n            const current = out[i];\n            if (sample === undefined || current === undefined) {\n                throw new Error(\"sample or out[i] is undefined\");\n            }\n            out[i] = current + sample;\n        }\n    }\n    return { audio: out, sampleRate: _audioBuffer.sampleRate };\n}\nexports.audioFileToArray = audioFileToArray;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcsaUJBQWlCLEdBQUcsMkJBQTJCLEdBQUcsNEJBQTRCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDLHdCQUF3QixtQ0FBbUM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tlcnRob24tZnJvbnQvLi9ub2RlX21vZHVsZXMvQHJpY2t5MDEyMy92YWQtd2ViL2Rpc3QvdXRpbHMuanM/NWZmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYXVkaW9GaWxlVG9BcnJheSA9IGV4cG9ydHMuZW5jb2RlV0FWID0gZXhwb3J0cy5hcnJheUJ1ZmZlclRvQmFzZTY0ID0gZXhwb3J0cy5taW5GcmFtZXNGb3JUYXJnZXRNUyA9IHZvaWQgMDtcbmZ1bmN0aW9uIG1pbkZyYW1lc0ZvclRhcmdldE1TKHRhcmdldER1cmF0aW9uLCBmcmFtZVNhbXBsZXMsIHNyID0gMTYwMDApIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKCh0YXJnZXREdXJhdGlvbiAqIHNyKSAvIDEwMDAgLyBmcmFtZVNhbXBsZXMpO1xufVxuZXhwb3J0cy5taW5GcmFtZXNGb3JUYXJnZXRNUyA9IG1pbkZyYW1lc0ZvclRhcmdldE1TO1xuZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0Jhc2U2NChidWZmZXIpIHtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgY29uc3QgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aDtcbiAgICBjb25zdCBiaW5hcnkgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJ5dGUgPSBieXRlc1tpXTtcbiAgICAgICAgaWYgKGJ5dGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYmluYXJ5W2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ0b2EoYmluYXJ5LmpvaW4oXCJcIikpO1xufVxuZXhwb3J0cy5hcnJheUJ1ZmZlclRvQmFzZTY0ID0gYXJyYXlCdWZmZXJUb0Jhc2U2NDtcbi8qXG5UaGlzIHJlc3Qgb2YgdGhpcyB3YXMgbW9zdGx5IGNvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9saW50by1haS9XZWJWb2ljZVNES1xuKi9cbmZ1bmN0aW9uIGVuY29kZVdBVihzYW1wbGVzLCBmb3JtYXQgPSAzLCBzYW1wbGVSYXRlID0gMTYwMDAsIG51bUNoYW5uZWxzID0gMSwgYml0RGVwdGggPSAzMikge1xuICAgIGNvbnN0IGJ5dGVzUGVyU2FtcGxlID0gYml0RGVwdGggLyA4O1xuICAgIGNvbnN0IGJsb2NrQWxpZ24gPSBudW1DaGFubmVscyAqIGJ5dGVzUGVyU2FtcGxlO1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig0NCArIHNhbXBsZXMubGVuZ3RoICogYnl0ZXNQZXJTYW1wbGUpO1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcbiAgICAvKiBSSUZGIGlkZW50aWZpZXIgKi9cbiAgICB3cml0ZVN0cmluZyh2aWV3LCAwLCBcIlJJRkZcIik7XG4gICAgLyogUklGRiBjaHVuayBsZW5ndGggKi9cbiAgICB2aWV3LnNldFVpbnQzMig0LCAzNiArIHNhbXBsZXMubGVuZ3RoICogYnl0ZXNQZXJTYW1wbGUsIHRydWUpO1xuICAgIC8qIFJJRkYgdHlwZSAqL1xuICAgIHdyaXRlU3RyaW5nKHZpZXcsIDgsIFwiV0FWRVwiKTtcbiAgICAvKiBmb3JtYXQgY2h1bmsgaWRlbnRpZmllciAqL1xuICAgIHdyaXRlU3RyaW5nKHZpZXcsIDEyLCBcImZtdCBcIik7XG4gICAgLyogZm9ybWF0IGNodW5rIGxlbmd0aCAqL1xuICAgIHZpZXcuc2V0VWludDMyKDE2LCAxNiwgdHJ1ZSk7XG4gICAgLyogc2FtcGxlIGZvcm1hdCAocmF3KSAqL1xuICAgIHZpZXcuc2V0VWludDE2KDIwLCBmb3JtYXQsIHRydWUpO1xuICAgIC8qIGNoYW5uZWwgY291bnQgKi9cbiAgICB2aWV3LnNldFVpbnQxNigyMiwgbnVtQ2hhbm5lbHMsIHRydWUpO1xuICAgIC8qIHNhbXBsZSByYXRlICovXG4gICAgdmlldy5zZXRVaW50MzIoMjQsIHNhbXBsZVJhdGUsIHRydWUpO1xuICAgIC8qIGJ5dGUgcmF0ZSAoc2FtcGxlIHJhdGUgKiBibG9jayBhbGlnbikgKi9cbiAgICB2aWV3LnNldFVpbnQzMigyOCwgc2FtcGxlUmF0ZSAqIGJsb2NrQWxpZ24sIHRydWUpO1xuICAgIC8qIGJsb2NrIGFsaWduIChjaGFubmVsIGNvdW50ICogYnl0ZXMgcGVyIHNhbXBsZSkgKi9cbiAgICB2aWV3LnNldFVpbnQxNigzMiwgYmxvY2tBbGlnbiwgdHJ1ZSk7XG4gICAgLyogYml0cyBwZXIgc2FtcGxlICovXG4gICAgdmlldy5zZXRVaW50MTYoMzQsIGJpdERlcHRoLCB0cnVlKTtcbiAgICAvKiBkYXRhIGNodW5rIGlkZW50aWZpZXIgKi9cbiAgICB3cml0ZVN0cmluZyh2aWV3LCAzNiwgXCJkYXRhXCIpO1xuICAgIC8qIGRhdGEgY2h1bmsgbGVuZ3RoICovXG4gICAgdmlldy5zZXRVaW50MzIoNDAsIHNhbXBsZXMubGVuZ3RoICogYnl0ZXNQZXJTYW1wbGUsIHRydWUpO1xuICAgIGlmIChmb3JtYXQgPT09IDEpIHtcbiAgICAgICAgLy8gUmF3IFBDTVxuICAgICAgICBmbG9hdFRvMTZCaXRQQ00odmlldywgNDQsIHNhbXBsZXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd3JpdGVGbG9hdDMyKHZpZXcsIDQ0LCBzYW1wbGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn1cbmV4cG9ydHMuZW5jb2RlV0FWID0gZW5jb2RlV0FWO1xuZnVuY3Rpb24gd3JpdGVGbG9hdDMyKG91dHB1dCwgb2Zmc2V0LCBpbnB1dCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyssIG9mZnNldCArPSA0KSB7XG4gICAgICAgIG91dHB1dC5zZXRGbG9hdDMyKG9mZnNldCwgaW5wdXRbaV0sIHRydWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZsb2F0VG8xNkJpdFBDTShvdXRwdXQsIG9mZnNldCwgaW5wdXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrLCBvZmZzZXQgKz0gMikge1xuICAgICAgICBjb25zdCBzID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIGlucHV0W2ldKSk7XG4gICAgICAgIG91dHB1dC5zZXRJbnQxNihvZmZzZXQsIHMgPCAwID8gcyAqIDB4ODAwMCA6IHMgKiAweDdmZmYsIHRydWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyaXRlU3RyaW5nKHZpZXcsIG9mZnNldCwgc3RyaW5nKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmlldy5zZXRVaW50OChvZmZzZXQgKyBpLCBzdHJpbmcuY2hhckNvZGVBdChpKSk7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gYXVkaW9GaWxlVG9BcnJheShhdWRpb0ZpbGVEYXRhKSB7XG4gICAgY29uc3QgY3R4ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoMSwgMSwgNDQxMDApO1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgbGV0IGF1ZGlvQnVmZmVyID0gbnVsbDtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiB7XG4gICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVuZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdWRpb0RhdGEgPSByZWFkZXIucmVzdWx0O1xuICAgICAgICAgICAgdm9pZCBjdHguZGVjb2RlQXVkaW9EYXRhKGF1ZGlvRGF0YSwgKGJ1ZmZlcikgPT4ge1xuICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGN0eFxuICAgICAgICAgICAgICAgICAgICAuc3RhcnRSZW5kZXJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVuZGVyaW5nIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICAgICAgICAgIHJlcygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSZW5kZXJpbmcgZmFpbGVkOiBcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciB3aXRoIGRlY29kaW5nIGF1ZGlvIGRhdGE6IFwiLCBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGF1ZGlvRmlsZURhdGEpO1xuICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktY29uZGl0aW9uXG4gICAgaWYgKGF1ZGlvQnVmZmVyID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwic29tZSBzaGl0XCIpO1xuICAgIH1cbiAgICBjb25zdCBfYXVkaW9CdWZmZXIgPSBhdWRpb0J1ZmZlcjtcbiAgICBjb25zdCBvdXQgPSBuZXcgRmxvYXQzMkFycmF5KF9hdWRpb0J1ZmZlci5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX2F1ZGlvQnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgX2F1ZGlvQnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7IGorKykge1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlID0gX2F1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhKGopW2ldO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IG91dFtpXTtcbiAgICAgICAgICAgIGlmIChzYW1wbGUgPT09IHVuZGVmaW5lZCB8fCBjdXJyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzYW1wbGUgb3Igb3V0W2ldIGlzIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dFtpXSA9IGN1cnJlbnQgKyBzYW1wbGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYXVkaW86IG91dCwgc2FtcGxlUmF0ZTogX2F1ZGlvQnVmZmVyLnNhbXBsZVJhdGUgfTtcbn1cbmV4cG9ydHMuYXVkaW9GaWxlVG9BcnJheSA9IGF1ZGlvRmlsZVRvQXJyYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@ricky0123/vad-web/dist/utils.js\n");

/***/ })

};
;