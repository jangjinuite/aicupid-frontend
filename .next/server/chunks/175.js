exports.id=175,exports.ids=[175],exports.modules={7945:(e,t,a)=>{Promise.resolve().then(a.bind(a,7262))},3444:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},2025:(e,t,a)=>{"use strict";a.d(t,{T:()=>F});var s=a(326),n=a(7577),r=a(2720),i=a(9086),l=a(5047),c=a(2173),o=a(7262);a(3527);let d=(process.env.NEXT_PUBLIC_BACKEND_URL??"http://localhost:8000").replace(/^http/,"ws")+"/ws";var u=a(3188);let x=[[.08,1,.25,.75,.12,.9,.3],[.3,.55,.95,.2,.8,.35,.7],[.5,.15,.85,.4,.95,.25,.6],[.15,.7,.3,1,.4,.8,.18],[.6,.2,.9,.35,.7,.15,.85],[.25,.9,.45,.7,.2,.95,.4],[.8,.3,.6,.15,.85,.3,.65],[.1,.75,.4,.9,.25,.7,.1]],p=[48,44,38,32,26,20,14,10];function m({status:e,side:t,count:a=8}){let n="speaking"===e,i="listening"===e,l=p.slice(0,a),c="left"===t?[...l].reverse():l;return s.jsx("div",{className:"flex items-center gap-[3px]",style:{flexDirection:"left"===t?"row-reverse":"row"},children:c.map((e,l)=>{let c=x[l%x.length],o="left"===t?a-1-l:l,d=.055*o;return s.jsx(r.E.div,{className:"rounded-full",style:{width:3,backgroundColor:"#86E3E3",transformOrigin:"center"},animate:n?{height:c.map(t=>Math.max(4,e*t)),opacity:.9,transition:{duration:.65+.04*o,repeat:1/0,ease:"easeInOut",delay:d}}:i?{height:[4,.12*e,4],opacity:.45,transition:{duration:1.8,repeat:1/0,ease:"easeInOut",delay:.5*d}}:{height:3,opacity:.18,transition:{duration:.3}}},l)})})}let h={idle:"rgba(134,227,227,0.15)",listening:"rgba(134,227,227,0.5)",speaking:"rgba(134,227,227,0.9)",thinking:"rgba(230,208,142,0.6)"},b="clamp(150px, 46vw, 210px)";function g({avatarState:e,voiceStatus:t,persona:a}){return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-[clamp(0.5rem,2vw,1rem)]",children:[s.jsx(m,{status:t,side:"left",count:7}),(0,s.jsxs)("div",{className:"relative flex items-center justify-center",children:[s.jsx(r.E.div,{className:"absolute",style:{inset:-10,borderRadius:"50%",border:`2.5px solid ${h[e]}`},variants:u.id,animate:e}),s.jsx(r.E.div,{layoutId:"avatar",style:{width:b,height:b,border:"3px solid #86E3E3",background:"#F0FAFA",borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:a.image?s.jsx("img",{src:a.image,alt:a.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("span",{className:"select-none",style:{fontSize:"clamp(3rem, 12vw, 4.5rem)"},children:a.emoji})})]}),s.jsx(m,{status:t,side:"right",count:7})]}),s.jsx("p",{className:"font-bold text-[clamp(1rem,4vw,1.25rem)] text-[#1A1A1A] dark:text-[#F0F0F0] tracking-tight",children:a.name})]})}let f={idle:{label:"ë§ˆì´í¬ êº¼ì§",dot:"#9CA3AF",bar:"#9CA3AF"},listening:{label:"ë“£ëŠ” ì¤‘",dot:"#86E3E3",bar:"#86E3E3"},speaking:{label:"ë…¹ìŒ ì¤‘",dot:"#FAA2EE",bar:"#FAA2EE"},ai_speaking:{label:"AI ì‘ë‹µ ì¤‘",dot:"#E6D08E",bar:"#E6D08E"},waiting:{label:"ì²˜ë¦¬ ì¤‘...",dot:"#E6D08E",bar:"#E6D08E"}},y=[[.2,1,.4,.8,.15],[.5,.2,.9,.3,.7],[.3,.8,.15,.95,.4],[.7,.3,.6,.1,.8],[.1,.7,.5,.9,.2],[.6,.15,.85,.4,.65],[.25,.9,.35,.7,.1]];function A({status:e,wsConnected:t}){let a=f[e],n="speaking"===e||"listening"===e;return(0,s.jsxs)("div",{className:"w-full px-5 py-3 rounded-2xl bg-surface dark:bg-dark-card flex items-center gap-3 border border-[#86E3E3]/20",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:a.dot,boxShadow:n?`0 0 8px ${a.dot}`:"none"}}),s.jsx("span",{className:"text-sm font-semibold text-[#1A1A1A] dark:text-[#F0F0F0] flex-shrink-0",children:a.label}),s.jsx("div",{className:"flex-1 flex items-center justify-end gap-[3px] h-6",children:y.map((t,i)=>s.jsx(r.E.div,{className:"rounded-full",style:{width:3,backgroundColor:a.bar},animate:n?{height:t.map(e=>Math.max(3,24*e)),opacity:.85,transition:{duration:"speaking"===e?.55:1.2,repeat:1/0,ease:"easeInOut",delay:.07*i}}:{height:3,opacity:.3,transition:{duration:.3}}},i))}),s.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:t?"#86E3E3":"#9CA3AF",opacity:t?1:.4}})]})}var j=a(3020);function v({question:e,participantCount:t=2,participants:a,voiceStatus:l,wsConnected:c,onClose:o}){let[d,x]=(0,n.useState)(0),p=a??Array.from({length:t},(e,t)=>`ì°¸ê°€ìž ${t+1}`),m=d===t-1;return(0,s.jsxs)(r.E.div,{className:"relative w-full popup-sheet rounded-[2rem] overflow-hidden z-30",style:{maxHeight:"85dvh",overflowY:"auto"},variants:u.z6,initial:"hidden",animate:"visible",exit:"exit",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 pt-5 pb-3",children:[s.jsx("span",{className:"text-xs font-bold tracking-widest uppercase text-primary",children:"ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸"}),s.jsx("button",{onClick:o,className:"w-8 h-8 rounded-full bg-black/5 dark:bg-white/10 flex items-center justify-center",children:s.jsx(j.Z,{className:"w-4 h-4 text-[#1A1A1A] dark:text-[#F0F0F0]"})})]}),s.jsx("p",{className:"px-6 text-base font-medium text-[#1A1A1A] dark:text-[#F0F0F0] leading-relaxed text-balance",children:e}),(0,s.jsxs)("div",{className:"px-6 pt-4 pb-2",children:[s.jsx("div",{className:"flex gap-2 mb-3",children:p.map((e,t)=>s.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300",style:{flex:t===d?2:1,backgroundColor:t<=d?"#86E3E3":"#E5E7EB"}},t))}),s.jsx(i.M,{mode:"wait",children:(0,s.jsxs)(r.E.div,{initial:{opacity:0,x:16},animate:{opacity:1,x:0},exit:{opacity:0,x:-16},transition:{duration:.2},className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",style:{backgroundColor:"#86E3E3"},children:d+1}),(0,s.jsxs)("span",{className:"font-semibold text-[#1A1A1A] dark:text-[#F0F0F0]",children:[p[d]," ë‹µë³€ ì¤‘"]})]},d)})]}),s.jsx("div",{className:"px-6 py-3",children:s.jsx(A,{status:l,wsConnected:c})}),s.jsx("div",{className:"px-6 pb-6 pt-1",children:s.jsx("button",{onClick:()=>{m?o():x(e=>e+1)},className:"w-full py-3.5 rounded-2xl font-bold text-base text-white transition-transform active:scale-[0.97]",style:{backgroundColor:"#86E3E3",color:"#0A4040"},children:m?"ì™„ë£Œ":"ë‹¤ìŒ â†’"})})]})}function w({question:e,choices:t,voiceStatus:a,wsConnected:n,onClose:i}){return(0,s.jsxs)(r.E.div,{className:"relative w-full popup-sheet rounded-[2rem] overflow-hidden z-30",variants:u.z6,initial:"hidden",animate:"visible",exit:"exit",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 pt-5 pb-3",children:[s.jsx("span",{className:"text-xs font-bold tracking-widest uppercase text-gold",children:"ë°¸ëŸ°ìŠ¤ ê²Œìž„"}),s.jsx("button",{onClick:i,className:"w-8 h-8 rounded-full bg-black/5 dark:bg-white/10 flex items-center justify-center",children:s.jsx(j.Z,{className:"w-4 h-4 text-[#1A1A1A] dark:text-[#F0F0F0]"})})]}),s.jsx("p",{className:"px-6 pb-4 text-base font-semibold text-[#1A1A1A] dark:text-[#F0F0F0] leading-relaxed text-balance",children:e}),(0,s.jsxs)("div",{className:"px-6 pb-4 grid grid-cols-2 gap-3",children:[s.jsx(r.E.div,{className:"rounded-2xl flex items-center justify-center py-10 px-3 text-center cursor-default",style:{backgroundColor:"#86E3E3"},whileTap:{scale:.97},children:s.jsx("span",{className:"font-black text-xl leading-tight text-[#0A4040]",children:t[0]})}),s.jsx(r.E.div,{className:"rounded-2xl flex items-center justify-center py-10 px-3 text-center cursor-default",style:{backgroundColor:"#FAA2EE"},whileTap:{scale:.97},children:s.jsx("span",{className:"font-black text-xl leading-tight text-[#4A0A40]",children:t[1]})})]}),s.jsx("p",{className:"px-6 pb-2 text-xs text-[#1A1A1A]/40 dark:text-white/30 text-center",children:"ìŒì„±ìœ¼ë¡œ ë‹µë³€í•´ ì£¼ì„¸ìš”"}),s.jsx("div",{className:"px-6 pb-6",children:s.jsx(A,{status:a,wsConnected:n})})]})}let k=[{bg:"#B8F0F0",text:"#0A4040",label:"A"},{bg:"#F5E9BB",text:"#4A3800",label:"B"},{bg:"#FDCFF7",text:"#4A0A40",label:"C"},{bg:"#E8E8F0",text:"#1A1A2A",label:"D"}];function E({question:e,choices:t,voiceStatus:a,wsConnected:n,onClose:i}){let l=t.slice(0,4);return(0,s.jsxs)(r.E.div,{className:"relative w-full popup-sheet rounded-[2rem] overflow-hidden z-30",variants:u.z6,initial:"hidden",animate:"visible",exit:"exit",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 pt-5 pb-3",children:[s.jsx("span",{className:"text-xs font-bold tracking-widest uppercase",style:{color:"#E6D08E"},children:"í€´ì¦ˆ"}),s.jsx("button",{onClick:i,className:"w-8 h-8 rounded-full bg-black/5 dark:bg-white/10 flex items-center justify-center",children:s.jsx(j.Z,{className:"w-4 h-4 text-[#1A1A1A] dark:text-[#F0F0F0]"})})]}),s.jsx("p",{className:"px-6 pb-4 text-base font-semibold text-[#1A1A1A] dark:text-[#F0F0F0] leading-relaxed text-balance",children:e}),s.jsx("div",{className:"px-6 pb-4 grid grid-cols-2 gap-3",children:l.map((e,t)=>{let a=k[t]??k[3];return(0,s.jsxs)(r.E.div,{className:"rounded-2xl p-4 flex flex-col gap-1 cursor-default",style:{backgroundColor:a.bg},whileTap:{scale:.97},children:[s.jsx("span",{className:"text-xs font-black",style:{color:a.text,opacity:.5},children:a.label}),s.jsx("span",{className:"font-bold text-sm leading-snug",style:{color:a.text},children:e})]},t)})}),s.jsx("p",{className:"px-6 pb-2 text-xs text-[#1A1A1A]/40 dark:text-white/30 text-center",children:"A, B, C, D ì¤‘ ìŒì„±ìœ¼ë¡œ ë‹µë³€í•´ ì£¼ì„¸ìš”"}),s.jsx("div",{className:"px-6 pb-6",children:s.jsx(A,{status:a,wsConnected:n})})]})}var C=a(251),N=a(4333);let S={idle:{label:"â— ëŒ€ê¸°",bg:"#F0F0F0",text:"#9CA3AF"},listening:{label:"â—‰ ë“£ëŠ” ì¤‘",bg:"#B8F0F0",text:"#0A4040"},speaking:{label:"\uD83C\uDF99 ë…¹ìŒ ì¤‘",bg:"#FDCFF7",text:"#4A0A40"},ai_speaking:{label:"\uD83D\uDD0A AI ì‘ë‹µ",bg:"#F5E9BB",text:"#4A3800"},waiting:{label:"â³ ì²˜ë¦¬ ì¤‘",bg:"#F5E9BB",text:"#4A3800"}};function F(){let e=(0,l.useRouter)(),{state:t,dispatch:a}=(0,o.b)(),{status:x,wsStatus:p,isWaiting:m,avatarState:h,loading:b,error:f,gameEvent:y,start:j,stop:k,forceCommit:F,dismissEvent:I}=function(){let[e,t]=(0,n.useState)("idle"),[a,s]=(0,n.useState)("disconnected"),[r,i]=(0,n.useState)(!0),[l,c]=(0,n.useState)(null),[o,u]=(0,n.useState)(null),[x,p]=(0,n.useState)([]),m=(0,n.useRef)(crypto.randomUUID()),h=(0,n.useRef)(null),b=(0,n.useRef)(null),g=(0,n.useRef)(null),f=(0,n.useRef)(null),y=(0,n.useRef)(null),A=(0,n.useRef)(!1),j=(0,n.useRef)(16e3);(0,n.useRef)(!1);let v=(0,n.useRef)(0),{playResponse:w,close:k}=function(){let e=(0,n.useRef)(null),t=(0,n.useRef)(0),a=(0,n.useRef)(null),s=(0,n.useCallback)((a,s)=>{if(!a)return;let n=s.match(/rate=(\d+)/),r=n?parseInt(n[1],10):24e3;e.current&&"closed"!==e.current.state||(e.current=new AudioContext({sampleRate:r}),t.current=0);let i=e.current,l=atob(a),c=new Uint8Array(l.length);for(let e=0;e<l.length;e++)c[e]=l.charCodeAt(e);let o=Math.floor(c.length/2),d=new Float32Array(o),u=new DataView(c.buffer);for(let e=0;e<o;e++)d[e]=u.getInt16(2*e,!0)/32768;let x=i.createBuffer(1,o,r);x.copyToChannel(d,0);let p=i.createBufferSource();p.buffer=x,p.connect(i.destination);let m=Math.max(i.currentTime,t.current);p.start(m),t.current=m+x.duration},[]);return{playResponse:(0,n.useCallback)(async(n,r)=>{if(!n)return;let i=atob(n),l=new Uint8Array(i.length);for(let e=0;e<i.length;e++)l[e]=i.charCodeAt(e);if("audio/mpeg"===r||"audio/mp3"===r){let e=new Blob([l],{type:r}),t=URL.createObjectURL(e);a.current||(a.current=new Audio),a.current.src=t,a.current.onended=()=>URL.revokeObjectURL(t),await a.current.play().catch(e=>console.error("[AudioQueue] mp3 play failed:",e));return}e.current&&"closed"!==e.current.state||(e.current=new AudioContext,t.current=0);let c=e.current;try{let e=await c.decodeAudioData(l.buffer.slice(0)),a=c.createBufferSource();a.buffer=e,a.connect(c.destination);let s=Math.max(c.currentTime,t.current);a.start(s),t.current=s+e.duration}catch{s(n,r)}},[s]),enqueueRaw:s,flush:(0,n.useCallback)(()=>{t.current=0},[]),close:(0,n.useCallback)(()=>{e.current?.close(),e.current=null,t.current=0,a.current&&(a.current.pause(),a.current.src="")},[])}}(),E=(()=>{switch(e){case"listening":case"speaking":return"listening";case"ai_speaking":return"speaking";case"waiting":return"thinking";default:return"idle"}})(),C=(0,n.useCallback)((e,t)=>{let a={ts:function(){let e=new Date;return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}.${String(e.getMilliseconds()).padStart(3,"0")}`}(),label:e,color:t};console.log(`[Debug] ${a.ts} ${e}`),p(e=>[a,...e].slice(0,40))},[]),N=(0,n.useCallback)(()=>{if(b.current?.readyState===WebSocket.OPEN)return;s("connecting"),C("WS ì—°ê²° ì‹œë„...","yellow");let e=new WebSocket(`${d}?session_id=${m.current}`);e.binaryType="arraybuffer",b.current=e,e.onopen=()=>{s("connected"),C("âœ“ WS ì—°ê²°ë¨","green")},e.onerror=()=>{s("error"),C("âœ— WS ì—ëŸ¬","red")},e.onclose=e=>{s("disconnected"),C(`WS ì¢…ë£Œ (code=${e.code})`,"yellow"),b.current=null},e.onmessage=async e=>{let a;if("string"==typeof e.data){try{a=JSON.parse(e.data)}catch{return}if("audio"===a.type&&a.data){let e=Math.round(3*a.data.length/4/1024);C(`â—€ ì˜¤ë””ì˜¤ ìˆ˜ì‹  ${e}KB (${a.mime_type})`,"blue"),t("ai_speaking"),await w(a.data,a.mime_type??"audio/wav"),C("âœ“ ìž¬ìƒ ì™„ë£Œ","blue"),t(e=>"ai_speaking"===e||"waiting"===e?"listening":e)}else"event"===a.type&&a.event?(C(`ðŸŽ® ê²Œìž„ ì´ë²¤íŠ¸: ${a.event.type}`,"purple"),u(a.event)):"error"===a.type&&C(`âœ— ì„œë²„ ì˜¤ë¥˜: ${a.message}`,"red")}}},[w,C]),S=(0,n.useCallback)(()=>{b.current?.close(1e3,"session ended"),b.current=null},[]),F=(0,n.useCallback)(async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,echoCancellation:!0,noiseSuppression:!0}});y.current=e;let t=new AudioContext;g.current=t,j.current=t.sampleRate,C(`âœ“ AudioContext ${t.sampleRate}Hz`,"green");let a=t.createMediaStreamSource(e),s=t.createScriptProcessor(4096,1,1);f.current=s,v.current=0,s.onaudioprocess=e=>{if(!A.current)return;let t=b.current;if(!t||t.readyState!==WebSocket.OPEN)return;let a=function(e){let t=new ArrayBuffer(2*e.length),a=new DataView(t);for(let t=0;t<e.length;t++){let s=Math.max(-1,Math.min(1,e[t]));a.setInt16(2*t,s<0?32768*s:32767*s,!0)}return t}(e.inputBuffer.getChannelData(0));t.send(a),v.current+=1},a.connect(s),s.connect(t.destination),C("âœ“ PCM ìŠ¤íŠ¸ë¦¬ë° ì¤€ë¹„","green")}catch(t){let e=t instanceof Error?t.message:String(t);C(`âœ— ë§ˆì´í¬ ì˜¤ë¥˜: ${e}`,"red"),c(e)}},[C]),I=(0,n.useCallback)(()=>{A.current=!1,f.current?.disconnect(),f.current=null,g.current?.close(),g.current=null,y.current?.getTracks().forEach(e=>e.stop()),y.current=null},[]),D=(0,n.useCallback)((e=!1)=>{let t=b.current;if(!t||t.readyState!==WebSocket.OPEN){C(`âœ— ${e?"force_commit":"speech_end"}: WS ë¯¸ì—°ê²°`,"red");return}let a=v.current;v.current=0,C(`â–¶ ${e?"force_commit":"speech_end"} ì „ì†¡ (ì²­í¬ ${a}ê°œ, ${j.current}Hz)`,"green"),t.send(JSON.stringify({type:e?"force_commit":"speech_end",sample_rate:j.current}))},[C]),R=(0,n.useCallback)(()=>{if(!b.current||b.current.readyState!==WebSocket.OPEN){C("âœ— forceCommit: WS ë¯¸ì—°ê²°","red");return}C("\uD83D\uDC46 FORCE COMMIT","yellow"),A.current=!1,D(!0),t("waiting")},[C,D]);return{status:e,wsStatus:a,isWaiting:"waiting"===e,avatarState:E,loading:r,error:l,gameEvent:o,debugLog:x,start:(0,n.useCallback)(()=>{let e=h.current;e&&(N(),e.start(),F(),t("listening"),C("â–¶ ì„¸ì…˜ ì‹œìž‘","green"))},[N,F,C]),stop:(0,n.useCallback)(()=>{A.current=!1;let e=h.current;e&&e.pause(),I(),S(),k(),t("idle"),C("â–  ì„¸ì…˜ ì¤‘ì§€","yellow")},[I,S,k,C]),forceCommit:R,dismissEvent:(0,n.useCallback)(()=>u(null),[])}}(),[D,R]=(0,n.useState)(null),[T,P]=(0,n.useState)(!1),_=y??D,O=y?I:()=>R(null),M=N.IJ.find(e=>e.id===t.sessionSettings.selectedPersonaId)??N.IJ[0],$="idle"!==x,U="connected"===p,B=S[x]??S.idle;return(0,s.jsxs)(r.E.div,{className:"absolute inset-0 flex flex-col bg-white dark:bg-dark-bg overflow-hidden mx-auto w-full z-20",style:{maxWidth:430},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:[(0,s.jsxs)("div",{className:"shrink-0 flex items-center justify-between px-5 pb-3",style:{paddingTop:"max(2.5rem, env(safe-area-inset-top, 2.5rem))"},children:[(0,s.jsxs)(r.E.button,{onClick:()=>{k(),a({type:"GO_LANDING"})},className:"flex items-center gap-1 text-sm font-semibold text-primary",whileTap:{scale:.92},children:[s.jsx(c.Z,{className:"w-4 h-4"}),"ë’¤ë¡œ"]}),s.jsx("span",{className:"font-black text-base text-[#1A1A1A] dark:text-[#F0F0F0] tracking-tight",children:"AI CUPID"}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"connected"===p?"#86E3E3":"connecting"===p?"#E6D08E":"error"===p?"#EF4444":"#9CA3AF",boxShadow:U?"0 0 6px #86E3E3":"none"}}),s.jsx("span",{className:"text-xs text-[#1A1A1A]/40 dark:text-white/30 font-mono",children:p})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 px-4 overflow-hidden",children:[s.jsx(r.E.button,{onClick:$&&!m?F:void 0,className:$&&!m?"cursor-pointer":"cursor-default",whileTap:$&&!m?{scale:.97}:{},children:s.jsx(g,{avatarState:h,voiceStatus:x,persona:M})}),s.jsx(i.M,{mode:"wait",children:s.jsx(r.E.span,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},transition:{duration:.15},className:"status-pill font-bold",style:{backgroundColor:B.bg,color:B.text},children:B.label},x)}),$&&!m&&s.jsx("p",{className:"text-[11px] text-[#1A1A1A]/25 dark:text-white/20 tracking-widest uppercase",children:"íƒ­í•˜ì—¬ ë‹µë³€ ì „ì†¡"}),f&&s.jsx("p",{className:"text-red-500 text-xs text-center max-w-xs break-words",children:f}),s.jsx("p",{className:"text-[10px] text-[#1A1A1A]/18 dark:text-white/12 font-mono",children:"[dev] í‚¤ë³´ë“œ 1=ì‹¬ë¦¬ 2=ë°¸ëŸ°ìŠ¤ 3=í€´ì¦ˆ"})]}),(0,s.jsxs)("div",{className:"shrink-0 px-5 flex flex-col gap-3",style:{paddingBottom:"max(2rem, env(safe-area-inset-bottom, 2rem))"},children:[s.jsx(r.E.button,{onClick:$?()=>{P(!0)}:j,disabled:b||!!f,className:"w-full py-4 rounded-2xl font-black text-base disabled:opacity-40 disabled:cursor-not-allowed",style:{backgroundColor:$?"#FAA2EE":"#86E3E3",color:$?"#4A0A40":"#0A4040"},whileTap:{scale:.97},children:b?"ë¡œë”© ì¤‘...":f?"ì˜¤ë¥˜":$?"ì¤‘ì§€":"ì‹œìž‘"}),s.jsx(A,{status:x,wsConnected:U})]}),(0,s.jsxs)(i.M,{children:[_&&(0,s.jsxs)(r.E.div,{className:"absolute inset-0 z-20 flex items-center justify-center px-5",initial:"hidden",animate:"visible",exit:"exit",variants:u.Yp,children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:O}),"psych"===_.type&&s.jsx(v,{question:_.question,voiceStatus:x,wsConnected:U,onClose:O}),"balance"===_.type&&s.jsx(w,{question:_.question,choices:[_.choices[0]??"A",_.choices[1]??"B"],voiceStatus:x,wsConnected:U,onClose:O}),"quiz"===_.type&&s.jsx(E,{question:_.question,choices:_.choices,voiceStatus:x,wsConnected:U,onClose:O})]}),T&&s.jsx(C.W,{title:"AI CUPIDì˜ í˜„ìž¬ ì„¸ì…˜ì„\nì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",onConfirmText:"ì˜ˆ",onCancelText:"ì•„ë‹ˆì˜¤",onConfirm:()=>{P(!1),k(),a({type:"SET_SESSION_SUMMARY",payload:""}),e.push("/summary")},onCancel:()=>P(!1)})]})]})}},251:(e,t,a)=>{"use strict";a.d(t,{W:()=>r});var s=a(326),n=a(2720);function r({title:e,onConfirmText:t,onCancelText:a,onConfirm:r,onCancel:i}){return(0,s.jsxs)("div",{className:"absolute inset-0 z-50 flex items-center justify-center px-6",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:i}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"relative w-full max-w-sm bg-white dark:bg-[#1A1A1A] rounded-[24px] p-6 shadow-2xl overflow-hidden",style:{border:"1.5px solid #86E3E3"},children:[s.jsx("h3",{className:"text-lg font-black text-center text-[#1A1A1A] dark:text-[#F0F0F0] leading-snug mb-6 whitespace-pre-line",children:e}),(0,s.jsxs)("div",{className:`grid gap-3 ${a?"grid-cols-2":"grid-cols-1"}`,children:[a&&s.jsx("button",{onClick:i,className:"py-3.5 rounded-2xl font-bold text-sm",style:{backgroundColor:"transparent",color:"#86E3E3",border:"2px solid #86E3E3"},children:a}),s.jsx("button",{onClick:r,className:"py-3.5 rounded-2xl font-black text-sm",style:{backgroundColor:"#86E3E3",color:"#0A4040"},children:t})]})]})]})}},7262:(e,t,a)=>{"use strict";a.d(t,{AppProvider:()=>c,b:()=>o});var s=a(326),n=a(7577);let r={phase:"landing",sessionSettings:{selectedPersonaId:a(4333).IJ[0].id,avatarState:"idle"},userProfile:null,matchedUser:null,sessionSummary:""};function i(e,t){switch(t.type){case"START_TRANSITION":return{...e,phase:"transitioning"};case"SESSION_READY":return{...e,phase:"session"};case"GO_LANDING":return{...e,phase:"landing",sessionSettings:{...e.sessionSettings,avatarState:"idle"}};case"SET_PERSONA":return{...e,sessionSettings:{...e.sessionSettings,selectedPersonaId:t.payload}};case"SET_AVATAR_STATE":return{...e,sessionSettings:{...e.sessionSettings,avatarState:t.payload}};case"SET_USER_PROFILE":return{...e,userProfile:t.payload};case"SET_MATCHED_USER":return{...e,matchedUser:t.payload};case"SET_SESSION_SUMMARY":return{...e,sessionSummary:t.payload};case"LOGOUT":return{...r};default:return e}}let l=(0,n.createContext)(null);function c({children:e}){let[t,a]=(0,n.useReducer)(i,r);return s.jsx(l.Provider,{value:{state:t,dispatch:a},children:e})}function o(){let e=(0,n.useContext)(l);if(!e)throw Error("useAppContext must be used within AppProvider");return e}},3188:(e,t,a)=>{"use strict";a.d(t,{Yp:()=>n,dJ:()=>i,id:()=>s,z6:()=>r});let s={idle:{scale:1,opacity:0},speaking:{scale:[1,1.12,1],opacity:[.6,1,.6],transition:{duration:.9,repeat:1/0,ease:"easeInOut"}},listening:{scale:[1,1.06,1],opacity:[.3,.7,.3],transition:{duration:1.1,repeat:1/0,ease:"easeInOut"}},thinking:{scale:[1,1.04,1.08,1.04,1],opacity:[.2,.4,.2,.4,.2],transition:{duration:2.2,repeat:1/0,ease:"easeInOut"}}},n={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.14}}},r={hidden:{scale:.88,opacity:0,y:12},visible:{scale:1,opacity:1,y:0,transition:{type:"spring",stiffness:340,damping:28}},exit:{scale:.88,opacity:0,y:12,transition:{duration:.14,ease:"easeIn"}}},i={enter:e=>({x:e>0?60:-60,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e>0?-60:60,opacity:0})}},4333:(e,t,a)=>{"use strict";a.d(t,{IJ:()=>n,YG:()=>s});let s=[{userId:"jisoo123",name:"ì´ì§€ìˆ˜",age:24,gender:"female",mbti:"ENFP",interests:["ì˜í™”","ìŒì•…","ì—¬í–‰"],bio:"ì•ˆë…•í•˜ì„¸ìš”! ì˜í™” ì¢‹ì•„í•˜ëŠ” ì´ì§€ìˆ˜ìž…ë‹ˆë‹¤ :)"},{userId:"minho456",name:"ë°•ë¯¼í˜¸",age:27,gender:"male",mbti:"INTJ",interests:["ë…ì„œ","ê²Œìž„","ì•„ì›ƒë„ì–´"],bio:"ë…ì„œì™€ ê²Œìž„ì„ ì¦ê¸°ëŠ” ë°•ë¯¼í˜¸ìž…ë‹ˆë‹¤."},{userId:"yuna789",name:"ê¹€ìœ ë‚˜",age:25,gender:"female",mbti:"ISFJ",interests:["ìš”ë¦¬","ì˜í™”","íŒ¨ì…˜"],bio:"ìš”ë¦¬í•˜ëŠ” ê±¸ ì¢‹ì•„í•´ìš”!"},{userId:"junho001",name:"ìµœì¤€í˜¸",age:26,gender:"male",mbti:"ESTP",interests:["ìŠ¤í¬ì¸ ","ì—¬í–‰","ìŒì•…"],bio:"ìŠ¤í¬ì¸ ì™€ ì—¬í–‰ì„ ì¦ê¸°ëŠ” ìµœì¤€í˜¸ìž…ë‹ˆë‹¤."},{userId:"somin002",name:"ë°•ì†Œë¯¼",age:23,gender:"female",mbti:"INFP",interests:["ë…ì„œ","ìŒì•…","ì˜í™”"],bio:"ê°ì„±ì ì¸ ë°•ì†Œë¯¼ìž…ë‹ˆë‹¤ âœ¨"},{userId:"taehyun003",name:"ê¹€íƒœí˜„",age:28,gender:"male",mbti:"ENTJ",interests:["ìŠ¤í¬ì¸ ","ê²Œìž„","ìš”ë¦¬"],bio:"ì—´ì •ì ì¸ ê¹€íƒœí˜„ìž…ë‹ˆë‹¤!"}],n=[{id:"daguri",name:"ë‹¤êµ¬ë¦¬",description:"ê·€ì—¬ìš´ í–„ìŠ¤í„° ì™¸ëª¨ ì†ì— ìˆ¨ê²¨ì§„ ë¼ˆ ë•Œë¦¬ëŠ” íŒ©íŠ¸í­ê²©ê¸°",accentColor:"rgba(255,160,122,0.70)",avatarGradient:"linear-gradient(135deg, #FFEFD5, #FFA07A)",emoji:"\uD83D\uDC39",image:"/assets/daguri.jpeg"},{id:"rudumi",name:"ë£¨ë‘ë¯¸",description:"ì°¨ë¶„í•˜ê³  ì§€ì ì¸ ë¶„ìœ„ê¸°ë¥¼ í’ê¸°ëŠ” ë‹¤ì •í•œ ì—¬ìš° ë§ˆìŠ¤í„°",accentColor:"rgba(135,206,250,0.65)",avatarGradient:"linear-gradient(135deg, #F0F8FF, #87CEFA)",emoji:"\uD83E\uDD8A",image:"/assets/rudumi.png"}]},4879:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,metadata:()=>c});var s=a(9510),n=a(7366),r=a.n(n),i=a(8570);let l=(0,i.createProxy)(String.raw`C:\Users\jjw74\Desktop\Code\AIMC\hackerthon\frontend\context\AppContext.tsx#AppProvider`);(0,i.createProxy)(String.raw`C:\Users\jjw74\Desktop\Code\AIMC\hackerthon\frontend\context\AppContext.tsx#useAppContext`),a(7272);let c={title:"AI CUPID",description:"AI-powered Cupid MC"};function o({children:e}){return s.jsx("html",{lang:"ko",children:s.jsx("body",{className:`${r().className} antialiased bg-white dark:bg-dark-bg text-[#1A1A1A] dark:text-[#F0F0F0]`,children:s.jsx(l,{children:e})})})}},7272:()=>{}};